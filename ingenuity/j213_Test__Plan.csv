GROUP,DESCRIPTION,UNIT,LOW,HIGH,FUNCTION,PARAM1,PARAM2,KEY,VAL,FAIL_COUNT,TIMEOUT,TID
FIXTURE SETUP,Vendor ID,,,,vendor_id,,<<vendor_id>>,,,,15000,VENDOR_ID
FIXTURE SETUP,Fixture ID,,,,fixtureid,,{{fixture_id}},,,,15000,FIXTURE_ID
FIXTURE SETUP,Get IA ZYNQ FW version,,,,getxavier_fw,,<<ia_zynq_version>>,,,,15000,GET_ZYNQ_FW_VERSION
FIXTURE SETUP,Battery Emulator Self check,,,,emulator_selfcheck,,,,,,15000,BATT_SELF_CHECK
FIXTURE SETUP,Check Battery supply,V,-0.1,0.5,dmm,PPVBAT_G3H_CONN_FB_R,,,,,15000,PPVBAT_G3H
FIXTURE SETUP,Check XA_VBUS,V,-0.1,0.1,dmm,PP20V_USBC_XA_VBUS,,,,,15000,USBC_XA_VBUS
FIXTURE SETUP,Check XB_VBUS,V,-0.1,0.1,dmm,PP20V_USBC_XB_VBUS,,,,,15000,USBC_XB_VBUS
FIXTURE SETUP,XA/XB pogo block engage check,V,-0.1,0.1,dmm,TP_USBC_PP20V_XA,,,,,15000,USBC_XA_ENGAGE_CHECK
FIXTURE SETUP,XA/XB pogo block engage check,V,-0.1,0.1,dmm,TP_USBC_PP20V_XB,,,,,15000,USBC_XB_ENGAGE_CHECK
FIXTURE SETUP,USBC module cable detection,V,-0.1,0.1,dmm,USBC_XA_DET,,,,,15000,USBC_XA_CABLE_CHECK
FIXTURE SETUP,USBC module cable detection,V,-0.1,0.1,dmm,USBC_XB_DET,,,,,15000,USBC_XB_CABLE_CHECK
FIXTURE SETUP,Reset XA,,,,usbctrl,reset,XA,,,,20000,RESET_XA
FIXTURE SETUP,Reset XB,,,,usbctrl,reset,XB,,,,20000,RESET_XB
IBOOT GROUP,IBOOT power seqeunce start test,kHz,,,powersequencemonitor,START,1;1,,,,60000,SOC_POWER_ON_PS_START
IBOOT GROUP,Assert TP_SMC_FIXTURE_MODE_L,,,,relay,SMC_FIXMODE_L,,,,,15000,ASSERT_SMC_FIXMODE_L
IBOOT GROUP,Connect gpio expander,,,,relay,I2C_Ctrl,,,,,15000,CONNECT_GPIO_EXPANDER
IBOOT GROUP,Close battery relay,,,,relay,PPVBAT_G3H_IN_CTL,,,,,15000,CONNECT_BATTERY
IBOOT GROUP,Connect sys_detect and battery sense line,,,,relay,PPVBAT_ON_CTL,,,,,15000,CONNECT_SYS_DETECT
IBOOT GROUP,Delay for battery connection,ms,,,delay,1000,,,,,,DELAY_FOR_CONNECT_BATTERY
IBOOT GROUP,Close power adapter relay,,,,relay,PP20V_USBC_ADAPTER_CTL,PP20V_USBC_XA_VBUS,,,,15000,CONNECT_ADAPTER_TO_XA
IBOOT GROUP,Start timer,,,,timerreset,,,,,,,SET_IBOOT_START_TIME_STAMP
IBOOT GROUP,Wait for main power,S,,,detectvoltageraise,PPDCIN_G3H;PPVBAT_G3H_CONN_FB_R;,4;11;,,,,30000,WAIT_FOR_PPDCIN_G3H_ON
IBOOT GROUP,Wait for SOC On,S,,,detectvoltageraise,PMU_SYS_ALIVE;PMU_ACTIVE_READY;PPVDDCPU_AWAKE;,1.5;1.5;0.5;,,,,10000,WAIT_SOC_POWER_ON
IBOOT GROUP,Connect SWD,,,,relay,SWD_CTRL,,,,,15000,CONNECT_SWD
IBOOT GROUP,Auto boot status,,--PASS--,--PASS--,enteriboot,,,,,,150000,ENTER_IBOOT
IBOOT GROUP,Stop timer,,,,timerstop,,{{SOC_iboot_time}},,,,,GET_IBOOT_BOOT_TIME
IBOOT GROUP,Check SN in iBOOT,,,,skip,syscfg read MLB#,<<mlbsn>>,,,,3000,GET_SN_FROM_IBOOT
IBOOT GROUP,Get SSD size from SF,mb,,,skip,,{{ssd_size}},,,,,GET_SSD_SIZE_FROM_SF
IBOOT GROUP,Delay for IBOOT power on sequence,ms,,,delay,5000,,,,,,DELAY_FOR_IBOOT_PS
IBOOT GROUP,IBOOT power on sequence stop test,kHz,,,powersequencemonitor,STOP,,,,,60000,IBOOT_POWER_ON_PS_STOP
IBOOT GROUP,Parse all channel ps timing data,ms,,,powersequencedelta,all,"rise,PPBUS_G3H",,,,,PARSE_IBOOT_PS_TIMMING_DATA
IBOOT GROUP,Measure active status IO voltage,V,19,21,dmm,PPDCIN_G3H,{{IBOOT_V_PPDCIN_G3H_voltage}},,,,15000,IBOOT_V_PPDCIN_G3H
IBOOT GROUP,Measure active status IO voltage,V,11.34,13.86,dmm,PPVBAT_G3H_CONN_FB_R,{{IBOOT_V_PPVBAT_G3H_CONN_voltage}},,,,15000,IBOOT_V_PPVBAT_G3H_CONN
IBOOT GROUP,Measure active status IO voltage,V,11.34,13.86,dmm,PPBUS_G3H,{{IBOOT_V_PPBUS_G3H_voltage}},,,,15000,IBOOT_V_PPBUS_G3H
IBOOT GROUP,Measure active status IO voltage,V,-0.1,0.1,dmm,PPVCC_S0_CPU,{{IBOOT_V_PPVCC_S0_CPU_voltage}},,,,15000,IBOOT_V_PPVCC_S0_CPU
IBOOT GROUP,Measure active status IO voltage,V,-0.1,0.1,dmm,PPVCCGT_S0_CPU,{{IBOOT_V_PPVCCGT_S0_CPU_voltage}},,,,15000,IBOOT_V_PPVCCGT_S0_CPU
IBOOT GROUP,Measure active status IO voltage,V,-0.1,0.1,dmm,PPVCCSA_S0_CPU,{{IBOOT_V_PPVCCSA_S0_CPU_voltage}},,,,15000,IBOOT_V_PPVCCSA_S0_CPU
IBOOT GROUP,Measure active status IO voltage,V,-0.1,0.1,dmm,PPVCCIO_S0_CPU,{{IBOOT_V_PPVCCIO_S0_CPU_voltage}},,,,15000,IBOOT_V_PPVCCIO_S0_CPU
IBOOT GROUP,Measure active status IO voltage,V,-0.1,0.1,dmm,PPVCCEDRAM_S0_CPU,{{IBOOT_V_PPVCCEDRAM_S0_CPU_voltage}},,,,15000,IBOOT_V_PPVCCEDRAM_S0_CPU
IBOOT GROUP,Measure active status IO voltage,V,-0.1,0.1,dmm,PP1V_S0SW,{{IBOOT_V_PP1V_S0SW_voltage}},,,,15000,IBOOT_V_PP1V_S0SW
IBOOT GROUP,Measure active status IO voltage,V,-0.1,0.1,dmm,PP1V2_S0SW,{{IBOOT_V_PP1V2_S0SW_voltage}},,,,15000,IBOOT_V_PP1V2_S0SW
IBOOT GROUP,Measure active status IO voltage,V,-0.1,0.1,dmm,PP1V_S3,{{IBOOT_V_PP1V_S3_voltage}},,,,15000,IBOOT_V_PP1V_S3
IBOOT GROUP,Measure active status IO voltage,V,-0.1,0.1,dmm,PP0V6_S0_DDRVTT,{{IBOOT_V_PP0V6_S0_DDRVTT_voltage}},,,,15000,IBOOT_V_PP0V6_S0_DDRVTT
IBOOT GROUP,Measure active status IO voltage,V,-0.1,0.1,dmm,PP1V_PRIM,{{IBOOT_V_PP1V_PRIM_voltage}},,,,15000,IBOOT_V_PP1V_PRIM
IBOOT GROUP,Measure active status IO voltage,V,-0.1,0.1,dmm,PP3V3_S5,{{IBOOT_V_PP3V3_S5_voltage}},,,,15000,IBOOT_V_PP3V3_S5
IBOOT GROUP,Measure active status IO voltage,V,-0.1,0.5,dmm,PP1V8_S5,{{IBOOT_V_PP1V8_S5_voltage}},,,,15000,IBOOT_V_PP1V8_S5
IBOOT GROUP,Measure active status IO voltage,V,-0.1,0.1,dmm,PPVPCORE_S5,{{IBOOT_V_PPVPCORE_S5_voltage}},,,,15000,IBOOT_V_PPVPCORE_S5
IBOOT GROUP,Measure active status IO voltage,V,2.85,3.15,dmm,PP3V_G3H_RTC,{{IBOOT_V_PP3V_G3H_RTC_voltage}},,,,15000,IBOOT_V_PP3V_G3H_RTC
IBOOT GROUP,Measure active status IO voltage,V,-0.1,0.1,dmm,PP3V3_S0SW_LCD,{{IBOOT_V_PP3V3_S0SW_LCD_voltage}},,,,15000,IBOOT_V_PP3V3_S0SW_LCD
IBOOT GROUP,Measure active status IO voltage,V,-0.1,0.1,dmm,PP5V_S0SW_LCD,{{IBOOT_V_PP5V_S0SW_LCD_voltage}},,,,15000,IBOOT_V_PP5V_S0SW_LCD
IBOOT GROUP,Measure active status IO voltage,V,1.71,1.89,dmm,PP1V8_SLPS2R,{{IBOOT_V_PP1V8_SLPS2R_voltage}},,,,15000,IBOOT_V_PP1V8_SLPS2R
IBOOT GROUP,Measure active status IO voltage,V,1.71,1.89,dmm,PP1V8_AWAKE,{{IBOOT_V_PP1V8_AWAKE_voltage}},,,,15000,IBOOT_V_PP1V8_AWAKE
IBOOT GROUP,Measure active status IO voltage,V,1.045,1.155,dmm,PP1V1_SLPS2R,{{IBOOT_V_PP1V1_SLPS2R_voltage}},,,,15000,IBOOT_V_PP1V1_SLPS2R
IBOOT GROUP,Measure active status IO voltage,V,0.76,0.84,dmm,PP0V8_SLPS2R,{{IBOOT_V_PP0V8_SLPS2R_voltage}},,,,15000,IBOOT_V_PP0V8_SLPS2R
IBOOT GROUP,Measure active status IO voltage,V,0.779,0.861,dmm,PP0V82_SLPDDR,{{IBOOT_V_PP0V82_SLPDDR_voltage}},,,,15000,IBOOT_V_PP0V82_SLPDDR
IBOOT GROUP,Measure active status IO voltage,V,3.135,3.465,dmm,PP3V3_AWAKE,{{IBOOT_V_PP3V3_AWAKE_voltage}},,,,15000,IBOOT_V_PP3V3_AWAKE
IBOOT GROUP,Measure active status IO voltage,V,0.76,1.166,dmm,PPVDDCPUSRAM_AWAKE,{{IBOOT_V_PPVDDCPUSRAM_AWAKE_voltage}},,,,15000,IBOOT_V_PPVDDCPUSRAM_AWAKE
IBOOT GROUP,Measure active status IO voltage,V,0.855,0.945,dmm,PP0V9_SLPDDR,{{IBOOT_V_PP0V9_SLPDDR_voltage}},,,,15000,IBOOT_V_PP0V9_SLPDDR
IBOOT GROUP,Measure active status IO voltage,V,1.045,1.155,dmm,PP1V1_SLPDDR,{{IBOOT_V_PP1V1_SLPDDR_voltage}},,,,15000,IBOOT_V_PP1V1_SLPDDR
IBOOT GROUP,Measure active status IO voltage,V,1.14,1.26,dmm,PP1V2_AWAKE,{{IBOOT_V_PP1V2_AWAKE_voltage}},,,,15000,IBOOT_V_PP1V2_AWAKE
IBOOT GROUP,Measure active status IO voltage,V,0.5,1,dmm,PPVDDCPU_AWAKE,{{IBOOT_V_PPVDDCPU_AWAKE_voltage}},,,,15000,IBOOT_V_PPVDDCPU_AWAKE
IBOOT GROUP,Measure active status IO voltage,V,3.135,3.465,dmm,PP3V3_G3H_RTC,{{IBOOT_V_PP3V3_G3H_RTC_voltage}},,,,15000,IBOOT_V_PP3V3_G3H_RTC
IBOOT GROUP,Measure active status IO voltage,V,3.135,3.465,dmm,PP3V3_G3H,{{IBOOT_V_PP3V3_G3H_voltage}},,,,15000,IBOOT_V_PP3V3_G3H
IBOOT GROUP,Measure active status IO voltage,V,3.135,3.465,dmm,PP3V3_G3S,{{IBOOT_V_PP3V3_G3S_voltage}},,,,15000,IBOOT_V_PP3V3_G3S
IBOOT GROUP,Measure active status IO voltage,V,4.75,5.25,dmm,PP5V_G3S,{{IBOOT_V_PP5V_G3S_voltage}},,,,15000,IBOOT_V_PP5V_G3S
IBOOT GROUP,Measure active status IO voltage,V,1.71,1.89,dmm,PP1V8_G3S,{{IBOOT_V_PP1V8_G3S_voltage}},,,,15000,IBOOT_V_PP1V8_G3S
IBOOT GROUP,Measure active status IO voltage,V,2.095,3.105,dmm,PP2V5_NAND_SSD0,{{IBOOT_V_PP2V5_NAND_SSD0_voltage}},,,,15000,IBOOT_V_PP2V5_NAND_SSD0
IBOOT GROUP,Measure active status IO voltage,V,0.855,0.945,dmm,PP0V9_SSD0,{{IBOOT_V_PP0V9_SSD0_voltage}},,,,15000,IBOOT_V_PP0V9_SSD0
IBOOT GROUP,Measure active status IO voltage,V,1.71,1.89,dmm,PP1V8_IO_SSD0,{{IBOOT_V_PP1V8_IO_SSD0_voltage}},,,,15000,IBOOT_V_PP1V8_IO_SSD0
IBOOT GROUP,Measure active status IO voltage,V,19,21,dmm,PP20V_USBC_XA_VBUS,{{IBOOT_PP20V_USBC_XA_VBUS_voltage}},,,,15000,IBOOT_V_PP20V_USBC_XA_VBUS
IBOOT GROUP,Measure active status IO voltage,V,-0.1,0.1,dmm,PP20V_USBC_XB_VBUS,{{IBOOT_PP20V_USBC_XB_VBUS_voltage}},,,,15000,IBOOT_V_PP20V_USBC_XB_VBUS
IBOOT GROUP,Measure reference voltage,V,,,dmm,SSD0_S4E0_ANI0_VREF,{{IBOOT_V_SSD0_S4E0_ANI0_VREF}},,1,,15000,IBOOT_V_SSD0_S4E0_ANI0_VREF
IBOOT GROUP,Measure reference voltage,V,,,dmm,SSD0_S4E0_ANI1_VREF,{{IBOOT_V_SSD0_S4E0_ANI1_VREF}},,1,,15000,IBOOT_V_SSD0_S4E0_ANI1_VREF
IBOOT GROUP,Measure reference voltage,V,,,dmm,SSD0_S4E1_ANI0_VREF,{{IBOOT_V_SSD0_S4E1_ANI0_VREF}},,1,,15000,IBOOT_V_SSD0_S4E1_ANI0_VREF
IBOOT GROUP,Measure reference voltage,V,,,dmm,SSD0_S4E1_ANI1_VREF,{{IBOOT_V_SSD0_S4E1_ANI1_VREF}},,1,,15000,IBOOT_V_SSD0_S4E1_ANI1_VREF
IBOOT GROUP,Measure reference voltage,V,,,dmm,SSD0_S4E2_ANI0_VREF,{{IBOOT_V_SSD0_S4E2_ANI0_VREF}},,0,,15000,IBOOT_V_SSD0_S4E2_ANI0_VREF
IBOOT GROUP,Measure reference voltage,V,,,dmm,SSD0_S4E2_ANI1_VREF,{{IBOOT_V_SSD0_S4E2_ANI1_VREF}},,0,,15000,IBOOT_V_SSD0_S4E2_ANI1_VREF
IBOOT GROUP,Measure reference voltage,V,,,dmm,SSD0_S4E3_ANI0_VREF,{{IBOOT_V_SSD0_S4E3_ANI0_VREF}},,0,,15000,IBOOT_V_SSD0_S4E3_ANI0_VREF
IBOOT GROUP,Measure reference voltage,V,,,dmm,SSD0_S4E3_ANI1_VREF,{{IBOOT_V_SSD0_S4E3_ANI1_VREF}},,0,,15000,IBOOT_V_SSD0_S4E3_ANI1_VREF
IEFI SOC GROUP,Start timer,,,,timerreset,,,,,,,SET_IEFI_START_TIME_STAMP
IEFI SOC GROUP,Enter IEFI,,,,diags,diags,:-),,,,30000,ENTER_IEFI
IEFI SOC GROUP,Stop timer,s,,,timerstop,,{{iEFI_boot_time}},,,,,GET_IEFI_BOOT_TIME
IEFI SOC GROUP,Diag debug off,,,,diags,debug --off,,,,,30000,DEBUG_OFF
IEFI SOC GROUP,Print diags version,,,,diags,version,,,,,30000,PRINT_DIAGS_VERSION
IEFI SOC GROUP,Get diags version,,,,parse,{{diags_version}},{{diags_version}},,,,,PARSE_DIAGS_VERSION
IEFI CB SETUP,Get time from system,,,,rtc,get,,,,,20000,GET_RTC
IEFI CB SETUP,set unit rtc,,,,rtc,set,,,,,20000,SET_RTC
IEFI CB SETUP,CB setup,,,,diags,cbinit,:-),,,,30000,INIT_CB
IEFI CB SETUP,Check CB List,,,,checklistedcb,,,,,,30000,CHECK_OTHER _STATIONS_CB
IEFI CB SETUP,Fail Count Check,,,,checkfailcount,,,,,,30000,CHECK_FCT_FAIL_COUNT
IEFI CB SETUP,CB setup,,,,diags,cbwrite 0x01 incomplete,:-),,,,30000,SET_CB_INCOMPLETE
IEFI SOC GROUP,Print smc key MFIC,,,,diags,smc read MFIC,,,,,30000,PRINT_SMC_MFIC
IEFI SOC GROUP,Get MFIC value,,00 00 80 46,00 00 80 46,parse,{{smc_read_MFIC}},,,,,,PARSE_SMC_MFIC
IEFI SOC GROUP,Print smc version,,,,diags,smc version,,,,,30000,PRINT_SMC_VERSION
IEFI SOC GROUP,Parse smc version,,,,parse,{{smc_version_platform}},{{smc_version_platform}},,,,,PARSE_SMC_VERSION
IEFI SOC GROUP,Print nand debug log,,,,diags,nand --get DebugLog,,,,,150000,PRINT_NAND_DEBUGLOG
IEFI SOC GROUP,Get nand 117 count,,,,parse,{{nand_117_count}},{{nand_117_count}},,,,,PARSE_NAND_117_COUNT
IEFI SOC GROUP,Check nand 117 count,,,,check_nand_zero,[[nand_117_count]],{{nand_117_count}},,,,,CHECK_NAND_117_COUNT
IEFI BATTERY EMULATOR SETUP,Disable SMC to battery Communication,,,,diags,smc write BNCM 0x01,,,,,20000,DISABLE_SMC_TO_BATTERY_COMMS
IEFI BATTERY EMULATOR SETUP,init battery emulator,,,,init_emulator_zynq,,,,,,30000,INIT_EMULATOR
IEFI BATTERY EMULATOR SETUP,Set Battery Emulator to 11V,,,,zynq_set_voltage,"i2c write(smbus,0d,3,31,52,48)",,,,,30000,SET_BATTERY_EMULATOR_TO_11V
IEFI BATTERY EMULATOR SETUP,Check Battery Voltage,V,10.5,12.4,dmm,PPVBAT_G3H_CONN_FB_R,,,,,15000,V_PPVBAT_G3H_CONN_11V
IEFI USBC POWER ADAPTER XA,DMM PPDCIN_G3H_20V,V,19,21,dmm,PPDCIN_G3H,{{PPDCIN_G3H_XA_20V}},,,,15000,DMM_PPDCIN_G3H_20V
IEFI USBC POWER ADAPTER XA,XA Max Voltage constraint 16V,,,,diags,smc write D2VC 0x3E 0x80,,,,,30000,SET_XA_MAX_VOLTAGE_CONSTRAINT_16V
IEFI USBC POWER ADAPTER XA,Ace Request an election,,,,diags,smc write AC-E 0x01,,,,,30000,SET_XA_ACE_REQUEST_AN_ELECTION_15V
IEFI USBC POWER ADAPTER XA,Wait XA_VBUS_15V,S,,,detectvoltagefall,PP20V_USBC_XA_VBUS;,16;,,,,30000,WAIT_XA_VBUS_15V
IEFI USBC POWER ADAPTER XA,Log XA Max Voltage constraint,,,,diags,smc read D2VC,,,,,20000,LOG_XA_MAX_VOLTAGE_CONSTRAINT_15V
IEFI USBC POWER ADAPTER XA,Get XA Adapter Voltage Rating,,,,diags,smc read D2VR,,,,,20000,GET_XA_ADAPTER_VOLTAGE_RATING_15V
IEFI USBC POWER ADAPTER XA,Check XA Adapter Voltage Rating 15V,,3A 98,3A 98,parse,{{smc_read_D2VR}},{{smc_read_D2VR}},,,,,CHECK_XA_ADAPTER_VOLTAGE_RATING_15V
IEFI USBC POWER ADAPTER XA,Log XA Adapter Current Rating,,,,diags,smc read D2IR,,,,,20000,LOG_XA_ADAPTER_CURRENT_RATING
IEFI USBC POWER ADAPTER XA,DMM XA_VBUS_15V,V,14.25,15.75,dmm,XA_VBUS_SNS,{{XA_VBUS_15V}},,,,15000,DMM_XA_VBUS_15V
IEFI USBC POWER ADAPTER XA,DMM PPDCIN_G3H_XA_15V,V,14.25,15.75,dmm,PPDCIN_G3H,{{PPDCIN_G3H_XA_15V}},,,,15000,DMM_PPDCIN_G3H_15V
IEFI USBC POWER ADAPTER XA,XA Max Voltage constraint 9.45V,,,,diags,smc write D2VC 0x24 0xEA,,,,,20000,XA_MAX_VOLTAGE_CONSTRAINT_9.45V
IEFI USBC POWER ADAPTER XA,Ace Request an election,,,,diags,smc write AC-E 0x01,,,,,20000,ACE_REQUEST_AN_ELECTION_9V
IEFI USBC POWER ADAPTER XA,Wait XA_VBUS_9V,V,,,detectvoltagefall,XA_VBUS_SNS;,10;,,,,30000,WAIT_XA_VBUS_9V
IEFI USBC POWER ADAPTER XA,Log XA Max Voltage constraint,,,,diags,smc read D2VC,,,,,20000,LOG_XA_MAX_VOLTAGE_CONSTRAINT_9V
IEFI USBC POWER ADAPTER XA,Get XA Adapter Voltage Rating,,,,diags,smc read D2VR,,,,,20000,GET_XA_ADAPTER_VOLTAGE_RATING_9V
IEFI USBC POWER ADAPTER XA,Check XA Adapter Voltage Rating  9V,,23 28,23 28,parse,{{smc_read_D2VR}},{{smc_read_D2VR}},,,,,CHECK_XA_ADAPTER_VOLTAGE_RATING_9V
IEFI USBC POWER ADAPTER XA,Log XA Adapter Current Rating,,,,diags,smc read D2IR,,,,,20000,LOG_XA_ADAPTER_CURRENT_RATING_9V
IEFI USBC POWER ADAPTER XA,DMM XA_VBUS_9V,V,8.55,9.45,dmm,XA_VBUS_SNS,{{XA_VBUS_9V}},,,,15000,DMM_XA_VBUS_9V
IEFI USBC POWER ADAPTER XA,DMM PPDCIN_G3H_XA_9V,V,8.55,9.45,dmm,PPDCIN_G3H,{{PPDCIN_G3H_XA_9V}},,,,15000,DMM_PPDCIN_G3H_9V
IEFI USBC POWER ADAPTER XA,XA Max Voltage constraint 5.6V,,,,diags,smc write D2VC 0x15 0xE0,,,,,20000,XA_MAX_VOLTAGE_CONSTRAINT_5.6V
IEFI USBC POWER ADAPTER XA,Ace Request an election,,,,diags,smc write AC-E 0x01,,,,,20000,ACE_REQUEST_AN_ELECTION_5V
IEFI USBC POWER ADAPTER XA,Wait PP20V_USBC_XA_VBUS change,V,,,detectvoltagefall,XA_VBUS_SNS;,6;,,,,30000,WAIT_PP20V_USBC_XA_VBUS_CHANGE
IEFI USBC POWER ADAPTER XA,Log XA Max Voltage constraint,,,,diags,smc read D2VC,,,,,20000,LOG_XA_MAX_VOLTAGE_CONSTRAINT_5V
IEFI USBC POWER ADAPTER XA,Get XA Adapter Voltage Rating,,,,diags,smc read D2VR,,,,,20000,GET_XA_ADAPTER_VOLTAGE_RATING_5V
IEFI USBC POWER ADAPTER XA,Check XA Adapter Voltage Rating 5V,,13 88,13 88,parse,{{smc_read_D2VR}},{{smc_read_D2VR}},,,,,CHECK_XA_ADAPTER_VOLTAGE_RATING_5V
IEFI USBC POWER ADAPTER XA,Log XA Adapter Current Rating,,,,diags,smc read D2IR,,,,,20000,LOG_XA_ADAPTER_CURRENT_RATING_5V
IEFI USBC POWER ADAPTER XA,DMM XA_VBUS_5V,V,4.75,5.46,dmm,XA_VBUS_SNS,{{XA_VBUS_5V}},,,,15000,DMM_XA_VBUS_5V
IEFI USBC POWER ADAPTER XA,DMM PPDCIN_G3H_5V,V,4.75,5.46,dmm,PPDCIN_G3H,{{PPDCIN_G3H_XA_5V}},,,,15000,DMM_PPDCIN_G3H_5V
IEFI USBC POWER ADAPTER XB,Open power adapter relay,,,,disconnect,PP20V_USBC_ADAPTER_CTL,,,,,15000,POWER_ADAPTER_OFF
IEFI USBC POWER ADAPTER XB,Close power adapter relay,,,,relay,PP20V_USBC_ADAPTER_CTL,PP20V_USBC_XB_VBUS,,,,15000,CONNECT_ADAPTER_TO_XB
IEFI USBC POWER ADAPTER XB,Wait for main power,S,,,detectvoltageraise,PPDCIN_G3H;,19;,,,,30000,WAIT_FOR_PPDCIN_G3H_ON
IEFI USBC POWER ADAPTER XB,DMM PPDCIN_G3H_20V,V,19,21,dmm,PPDCIN_G3H,{{PPDCIN_G3H_XB_20V}},,,,15000,DMM_PPDCIN_G3H_20V
IEFI BATTERY EMULATOR XB CHARGER 20V SETUP,Write 2.9A to AUX_ILIM,,,,diags,i2c -v 11 0x09 0x14 0xAC 0x05 multiple,,,,,30000,SET_CHARGER_MAX_AUX_CURRENT_2.9A
IEFI BATTERY EMULATOR XB CHARGER 20V SETUP,Write sync register,,,,diags,i2c -v 11 0x09 0x00 0xFF 0xFF multiple,,,,,30000,WRITE_CHARGER_SYNC_REGISTER_2.9A
IEFI BATTERY EMULATOR XB CHARGER 20V SETUP,Disable SMC to charger writes,,,,diags,smc write CHGD 0x01,,,,,20000,DISABLE_SMC_TO_CHARGER_COMMS
IEFI BATTERY EMULATOR XB CHARGER 20V SETUP,Disable SMC to battery Communication,,,,diags,smc write BNCM 0x01,,,,,20000,DISABLE_SMC_TO_BATTERY_COMMS
IEFI BATTERY EMULATOR XB CHARGER 20V SETUP,Write 0A to Charge Register,,,,diags,i2c -v 11 0x09 0x14 0x00 0x00 multiple,,,,,20000,WRITE_0A_TO_CHARGE
IEFI BATTERY EMULATOR XB CHARGER 20V SETUP,Write sync register,,,,diags,i2c -v 11 0x09 0x00 0xFF 0xFF multiple,,,,,20000,WRITE_SYNC_REGISTER
IEFI BATTERY EMULATOR XB CHARGER 20V SETUP,Set Battery Emulator to 7.8V (A:20V  B:8.6V),,,,set_battery_zynq,"i2c write(smbus,0d,3,31,e4,91)",,,,,30000,SET_BATTERY_EMULATOR_TO_7.8V (A:20V B:8.6V)
IEFI BATTERY EMULATOR XB CHARGER 20V SETUP,Check Battery Voltage,V,7.5,8.6,dmm,PPVBAT_G3H_CONN_FB_R,{{PPVBAT_G3H_CONN_A20V_B9V}},,,,15000,V_PPVBAT_G3H_CONN (A:20V B:8.6V)
IEFI BATTERY EMULATOR XB CHARGER 20V SETUP,Write 2.8A to Charge Register (A:20V  B:8.6V),,,,diags,i2c -v 11 0x09 0x14 0x78 0x05 multiple,,,,,20000,WRITE_2.8A_TO_CHARGE_REGISTER (A:20V B:8.6V)
IEFI BATTERY EMULATOR XB CHARGER 20V SETUP,Write sync register,,,,diags,i2c -v 11 0x09 0x00 0xFF 0xFF multiple,,,,,20000,WRITE_SYNC_REGISTER(A:20V B:8.6V)
IEFI BATTERY EMULATOR XB CHARGER 20V@8.6V,Trim Battery Output Voltage,,,,trim_battery_output_zynq,8.6,0.05,,,,30000,TRIM_BATTERY_VOLTAGE (A:20V B:8.6V)
IEFI BATTERY EMULATOR XB CHARGER 20V@8.6V,Check Battery Voltage,V,8.5,8.7,dmm,PPVBAT_G3H_CONN_FB_R,{{PPVBAT_G3H_CONN_A20V_B8V6}},,,,15000,DMM_PPVBAT_G3H_CONN (A:20V B:8.6V)
IEFI BATTERY EMULATOR XB CHARGER 20V@8.6V,Read the SMC Charge Voltage (A:20V  B:8.6V),,,,diags,smc read CHBV ,,,,,20000,SMC_READ_CHARGE_VOLTAGE (A:20V B:8.6V)
IEFI BATTERY EMULATOR XB CHARGER 20V@8.6V,Print the SMC Charge Voltage (A:20V  B:8.6V),,,,parse,{{smc_read_CHBV}},{{smc_read_CHBV}},,,,20000,PARSE_CHARGE_VOLTAGE (A:20V B:8.6V)
IEFI BATTERY EMULATOR XB CHARGER 20V@8.6V,CHECK the SMC Charge Voltage (A:20V  B:8.6V),mV,12500,12700,hextofloat,[[smc_read_CHBV]],{{CHBV_ebatt_20V_8V6}},,,,20000,CHECK_CHARGE_VOLTAGE (A:20V B:8.6V)
IEFI BATTERY EMULATOR XB CHARGER 20V@8.6V,Charging current from adapter (A:20V  B:8.6V),,,,diags,smc read ID0R,,,,,20000,SMC_READ_PPDCIN_CURRENT (A:20V B:8.6V)
IEFI BATTERY EMULATOR XB CHARGER 20V@8.6V,Read PPDCIN current (A:20V  B:8.6V),,,,parse,{{smc_read_ID0R}},{{smc_read_ID0R}},,,,20000,PARSE_PPDCIN_CURRENT(A:20V B:8.6V)
IEFI BATTERY EMULATOR XB CHARGER 20V@8.6V,Check PPDCIN Current (A:20V  B:8.6V),A,0,0.5,hextofloat,[[smc_read_ID0R]],{{ID0R_ebatt_20V_8V6}},,,,20000,CHECK_PPDCIN_CURRENT (A:20V B:8.6V)
IEFI BATTERY EMULATOR XB CHARGER 20V@8.6V,Check Battery Sink Current (A:20V  B:8.6V),mA,480,800,read_sink_current_zynq,,{{i_ebatt_20V_8V6}},,,,20000,BATTERY_EMULATOR_SINK_CURRENT (A:20V B:8.6V)
IEFI BATTERY EMULATOR XB CHARGER 20V@8.6V,Check Battery Source Current (A:20V  B:8.6V),mA,-100,100,read_source_current_zynq,,{{srci_ebatt_20V_8V6}},,,,20000,BATTERY_EMULATOR_SOURCE_CURRENT (A:20V B:8.6V)
IEFI BATTERY EMULATOR XB CHARGER 20V@11V,Set Battery Emulator to 11V (A: 20V B: 11V),,,,trim_battery_output_zynq,11,0.05,,,,30000,SET_BATTERY_EMULATOR_TO_11V (A: 20V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 20V@11V,Check Battery Voltage,V,10.5,11.5,dmm,PPVBAT_G3H_CONN_FB_R,{{PPVBAT_G3H_CONN_A20V_B11V}},,,,15000,V_PPVBAT_G3H_CONN_ (A: 20V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 20V@11V,Read the SMC Charge Voltage (A: 20V B: 11V),,,,diags,smc read CHBV ,,,,,20000,READ_THE_SMC_CHARGE_VOLTAGE (A: 20V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 20V@11V,Print the SMC Charge Voltage (A: 20V B: 11V),,,,parse,{{smc_read_CHBV}},{{smc_read_CHBV}},,,,20000,PARSE_THE_SMC_CHARGE_VOLTAGE (A: 20V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 20V@11V,Print the SMC Charge Voltage (A: 20V B: 11V),mV,12500,12700,hextofloat,[[smc_read_CHBV]],{{CHBV_ebatt_20V_11V}},,,,20000,CHECK_THE_SMC_CHARGE_VOLTAGE (A: 20V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 20V@11V,Charging current from adapter (A:20V  B:11V),,,,diags,smc read ID0R,,,,,20000,SMC_READ_PPDCIN_CURRENT(A:20V B:11V)
IEFI BATTERY EMULATOR XB CHARGER 20V@11V,Read PPDCIN current (A:20V  B:11V),,,,parse,{{smc_read_ID0R}},{{smc_read_ID0R}},,,,20000,PARSE_PPDCIN_CURRENT (A:20V B:11V)
IEFI BATTERY EMULATOR XB CHARGER 20V@11V,Check PPDCIN Current (A: 20V B: 11V),A,0,2,hextofloat,[[smc_read_ID0R]],{{smc_read_ID0R}},,,,20000,CHECK_PPDCIN_CURRENT (A: 20V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 20V@11V,Battery Sink Current (A: 20V B: 11V),mA,2500,3000,read_sink_current_zynq,,{{i_ebatt_20V_11V}},,,,20000,BATTERY_SINK_CURRENT (A: 20V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 20V@11V,Battery Source Current (A: 20V B: 11V),mA,-100,100,read_source_current_zynq,,{{srci_ebatt_20V_11V}},,,,20000,BATTERY_SOURCE_SOURCE (A: 20V B: 11V)
IEFI USBC POWER ADAPTER XB,Log XB Max Voltage constraint,,,,diags,smc read D1VC,,,,,20000,LOG_XB_MAX_VOLTAGE_CONSTRAINT_20V
IEFI USBC POWER ADAPTER XB,Get XB Adapter Voltage Rating,,,,diags,smc read D1VR,,,,,20000,GET_XB_ADAPTER_VOLTAGE_RATING_20V
IEFI USBC POWER ADAPTER XB,Check XB Adapter Voltage Rating  20V,,20 4E,20 4E,parse,{{smc_read_D1VR}},{{smc_read_D1VR}},,,,,CHECK_XB_ADAPTER_VOLTAGE_RATING_20V
IEFI USBC POWER ADAPTER XB,Log XB Adapter Current Rating,,,,diags,smc read D1IR,,,,,20000,LOG_XB_ADAPTER_CURRENT_RATING_20V
IEFI USBC POWER ADAPTER XB,DMM PP20V_USBC_XB_VBUS XB_20V,V,19,21,dmm,XB_VBUS_SNS,{{XB_VBUS_SNS_value}},,,,15000,MEAS_PP20V_USBC_XB_VBUS_20V@11V
IEFI USBC POWER ADAPTER XB,XB DMM PPDCIN_G3H,V,19,21,dmm,PPDCIN_G3H,{{PPDCIN_G3H_value}},,,,15000,MEAS_PPDCIN_G3H_20V@11V
IEFI USBC POWER ADAPTER XB,Log SMC PPDCIN_G3H value,,,,skip,smc read VD0R,,,,,30000,PRINT_XB_VD0R_20V@11V
IEFI BATTERY EMULATOR XB CHARGER 20V@12.7V,Set Battery Emulator to 12.5V,,,,set_battery_zynq,"i2c write(smbus,0d,3,31,0d,b7)",,,,,30000,SET_BATTERY_EMULATOR_TO_12.5V (A:20V B: 12.7V)
IEFI BATTERY EMULATOR XB CHARGER 20V@12.7V,Set Battery Emulator to 12.7V (A:20V B: 12.7V),,,,trim_battery_output_zynq,12.7,0.05,,,,30000,SET_BATTERY_EMULATOR_TO_12.7V (A:20V B: 12.7V)
IEFI BATTERY EMULATOR XB CHARGER 20V@12.7V,Check Battery Voltage,V,12.6,12.8,dmm,PPVBAT_G3H_CONN_FB_R,{{PPVBAT_G3H_CONN_A20V_B12V7}},,,,15000,DMM_PPVBAT_G3H_CONN (A:20V B: 12.7V)
IEFI BATTERY EMULATOR XB CHARGER 20V@12.7V,Read the SMC Charge Voltage (A: 20V B: 12.7V),,,,diags,smc read CHBV ,,,,,20000,READ_THE_SMC_CHARGE_VOLTAGE (A: 20V B: 12.7V)
IEFI BATTERY EMULATOR XB CHARGER 20V@12.7V,Print the SMC Charge Voltage (A: 20V B: 12.7V),,,,parse,{{smc_read_CHBV}},{{smc_read_CHBV}},,,,20000,PARSE_THE_SMC_CHARGE_VOLTAGE (A: 20V B: 12.7V)
IEFI BATTERY EMULATOR XB CHARGER 20V@12.7V,Print the SMC Charge Voltage (A: 20V B: 12.7V),mV,12500,12700,hextofloat,[[smc_read_CHBV]],{{CHBV__ebatt_20V_12V6}},,,,20000,CHECK_THE_SMC_CHARGE_VOLTAGE (A: 20V B: 12.7V)
IEFI BATTERY EMULATOR XB CHARGER 20V@12.7V,Charging current from adapter (A:20V  B: 12.7V),,,,diags,smc read ID0R,,,,,20000,SMC_READ_PPDCIN_CURRENT( (A:20V__ B: 12.7V)
IEFI BATTERY EMULATOR XB CHARGER 20V@12.7V,Print PPDCIN current from adapter (A:20V  B: 12.7V),,,,parse,{{smc_read_ID0R}},{{smc_read_ID0R}},,,,20000,PARSE_PPDCIN_CURRENT (A:20V B: 12.7V)
IEFI BATTERY EMULATOR XB CHARGER 20V@12.7V,Check PPDCIN Current Limit (A: 20V B: 12.7V),A,0,0.4,hextofloat,[[smc_read_ID0R]],{{ID0R__ebatt_20V_12V6}},,,,20000,CHECK_PPDCIN_CURRENT (A: 20V B: 12.7V)
IEFI BATTERY EMULATOR XB CHARGER 20V@12.7V,battery Sink Current (A: 20V B: 12.7V),mA,-20,500,read_sink_current_zynq,,{{i_ebatt_20V_12V6}},,,,20000,THE_BATTERY_EMULATOR_SINK_CURRENT (A: 20V B: 12.7V)
IEFI BATTERY EMULATOR XB CHARGER 20V@12.7V,battery Source Current (A: 20V B: 12.7V),mA,-100,500,read_source_current_zynq,,{{srci_ebatt_20V_12V6}},,,,20000,THE_BATTERY_EMULATOR_SOURCE_CURRENT (A: 20V B: 12.7V)
IEFI USBC POWER ADAPTER XB,DMM PP20V_USBC_XB_VBUS XB_20V,V,19,21,dmm,XB_VBUS_SNS,{{XB_VBUS_SNS_value}},,,,15000,MEAS_PP20V_USBC_XB_VBUS_20V@12.7V
IEFI USBC POWER ADAPTER XB,XB DMM PPDCIN_G3H,V,19,21,dmm,PPDCIN_G3H,{{PPDCIN_G3H_value}},,,,15000,MEAS_PPDCIN_G3H_20V@12.7V
IEFI USBC POWER ADAPTER XB,Log SMC PPDCIN_G3H value,,,,diags,smc read VD0R,,,,,30000,PRINT_XB_VD0R_20V@12.7V
IEFI USBC POWER ADAPTER XB,Read input current from power adapter,,,,diags,smc read ID0R,,,,,30000,READ_ID0R_20V@12.7V
IEFI BATTERY EMULATOR XB CHARGER 15V SETUP,Write 0A to Charge Register,,,,diags,i2c -v 11 0x09 0x14 0x00 0x00 multiple,,,,,20000,WRITE_0A_TO_CHARGE_R
IEFI BATTERY EMULATOR XB CHARGER 15V SETUP,Write sync register,,,,diags,i2c -v 11 0x09 0x00 0xFF 0xFF multiple,,,,,20000,WRITE_SYNC_REGISTER
IEFI USBC POWER ADAPTER XB,XB Max Voltage constraint 16V,,,,diags,smc write D1VC 0x3E 0x80,,,,,30000,SET_XB_MAX_VOLTAGE_CONSTRAINT_16V
IEFI USBC POWER ADAPTER XB,Ace Request an election,,,,diags,smc write AC-E 0x01,,,,,30000,SET_XB_ACE_REQUEST_AN_ELECTION_15V
IEFI USBC POWER ADAPTER XB,Wait XB_VBUS_15V,S,,,detectvoltagefall,PP20V_USBC_XB_VBUS;,16;,,,,30000,WAIT_XB_VBUS_15V
IEFI USBC POWER ADAPTER XB,Log XB Max Voltage constraint,,,,diags,smc read D1VC,,,,,20000,LOG_XB_MAX_VOLTAGE_CONSTRAINT_15V
IEFI USBC POWER ADAPTER XB,Get XB Adapter Voltage Rating,,,,diags,smc read D1VR,,,,,20000,GET_XB_ADAPTER_VOLTAGE_RATING_15V
IEFI USBC POWER ADAPTER XB,Check XB Adapter Voltage Rating  15V,,98 3A,98 3A,parse,{{smc_read_D1VR}},{{smc_read_D1VR}},,,,,CHECK_XB_ADAPTER_VOLTAGE_RATING_15V
IEFI USBC POWER ADAPTER XB,Log XB Adapter Current Rating,,,,diags,smc read D1IR,,,,,20000,LOG_XB_ADAPTER_CURRENT_RATING
IEFI USBC POWER ADAPTER XB,DMM XB_VBUS_15V,V,14.25,15.75,dmm,XB_VBUS_SNS,{{XB_VBUS_15V}},,,,15000,DMM_XB_VBUS_15V
IEFI USBC POWER ADAPTER XB,DMM PPDCIN_G3H_XB_15V,V,14.25,15.75,dmm,PPDCIN_G3H,{{PPDCIN_G3H_XB_15V}},,,,15000,DMM_PPDCIN_G3H_15V
IEFI BATTERY EMULATOR XB CHARGER 15V SETUP,Set Battery Emulator to 9.2V (A:15V  B:11V),,,,set_battery_zynq,"i2c write(smbus,0d,3,31,a4,91)",,,,,30000,SET_BATTERY_EMULATOR_TO_9.2V (A:15V B:11V)
IEFI BATTERY EMULATOR XB CHARGER 15V SETUP,Check Battery Voltage,V,9,11,dmm,PPVBAT_G3H_CONN_FB_R,{{PPVBAT_G3H_CONN_A15V_B8V6}},,,,15000,V_PPVBAT_G3H_CONN (A:15V B:8.6V)
IEFI BATTERY EMULATOR XB CHARGER 15V SETUP,Write 2.8A to Charge Register (A:15V  B:11V),,,,diags,i2c -v 11 0x09 0x14 0x78 0x05 multiple,,,,,20000,WRITE_2.8A_TO_CHARGE_REGISTER (A:15V B:11V)
IEFI BATTERY EMULATOR XB CHARGER 15V SETUP,Write sync register,,,,diags,i2c -v 11 0x09 0x00 0xFF 0xFF multiple,,,,,20000,WRITE_SYNC_REGISTER (A:15V B:11V)
IEFI BATTERY EMULATOR XB CHARGER 15V@11V,Trim Battery Output Voltage,,,,trim_battery_output_zynq,11,0.05,,,,30000,TRIM_eBATTERY_VOLTAGE (A: 15V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 15V@11V,Check Battery Voltage,V,10.5,11.5,dmm,PPVBAT_G3H_CONN_FB_R,{{PPVBAT_G3H_CONN_A15V_B11V}},,,,15000,V_PPVBAT_G3H_CONN (A: 15V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 15V@11V,Read the SMC Charge Voltage  (A:15V B: 11V),,,,diags,smc read CHBV ,,,,,20000,READ_THE_SMC_CHARGE_VOLTAGE_ (A:15V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 15V@11V,Print the SMC Charge Voltage  (A:15V B: 11V),,,,parse,{{smc_read_CHBV}},{{smc_read_CHBV}},,,,20000,PARSE_THE_SMC_CHARGE_VOLTAGE_ (A:15V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 15V@11V,Check Charger Voltage  (A:15V B: 11V),mV,12500,12700,hextofloat,[[smc_read_CHBV]],{{CHBV_ebatt_15V_11v}},,,,20000,CHECK_THE_SMC_CHARGE_VOLTAGE_ (A:15V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 15V@11V,Read PPDCIN current ((A:15V B: 11V),,,,diags,smc read ID0R,,,,,20000,SMC_READ_PPDCIN_CURRENT (A:15V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 15V@11V,Parse PPDCIN current from adapter  (A:15V B: 11V),,,,parse,{{smc_read_ID0R}},{{smc_read_ID0R}},,,,20000,PARSE_PPDCIN_CURRENT_ (A:15V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 15V@11V,Check PPDCIN current (A:15V B: 11V),A,0,2.5,hextofloat,[[smc_read_ID0R]],{{ID0R_ebatt_15V_11v}},,,,20000,CHECK_PPDCIN_CURRENT (A:15V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 15V@11V,Read battery emulator Sink Current (A:15V B: 11V),mA,2500,3000,read_sink_current_zynq,,{{i_ebatt_15V_11v}},,,,20000,BATTERY_EMULATOR_SINK_CURRENT (A:15V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 15V@11V,Read battery emulator Source Current (A:15V B: 11V),mA,-100,100,read_source_current_zynq,,{{srci_ebatt_15V_11v}},,,,20000,BATTERY_EMULATOR_SOURCE_CURRENT (A:15V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 9V SETUP,Write 0A to Charge Register,,,,diags,i2c -v 11 0x09 0x14 0x00 0x00 multiple,,,,,20000,WRITE_0A_TO_CHARGE_9V
IEFI BATTERY EMULATOR XB CHARGER 9V SETUP,Write sync register,,,,diags,i2c -v 11 0x09 0x00 0xFF 0xFF multiple,,,,,20000,WRITE_SYNC_REGISTER_9V
IEFI USBC POWER ADAPTER XB,XB Max Voltage constraint 9.45V,,,,diags,smc write D1VC 0x24 0xEA,,,,,20000,XB_MAX_VOLTAGE_CONSTRAINT_9.45V
IEFI USBC POWER ADAPTER XB,Ace Request an election,,,,diags,smc write AC-E 0x01,,,,,20000,ACE_REQUEST_AN_ELECTION_9V
IEFI USBC POWER ADAPTER XB,Wait XB_VBUS_9V,V,,,detectvoltagefall,XB_VBUS_SNS;,10;,,,,30000,WAIT_XB_VBUS_9V
IEFI USBC POWER ADAPTER XB,Log XB Max Voltage constraint,,,,diags,smc read D1VC,,,,,20000,LOG_XB_MAX_VOLTAGE_CONSTRAINT_9V
IEFI USBC POWER ADAPTER XB,Get XB Adapter Voltage Rating,,,,diags,smc read D1VR,,,,,20000,GET_XB_ADAPTER_VOLTAGE_RATING_9V
IEFI USBC POWER ADAPTER XB,Check XB Adapter Voltage Rating  9V,,28 23,28 23,parse,{{smc_read_D1VR}},{{smc_read_D1VR}},,,,,CHECK_XB_ADAPTER_VOLTAGE_RATING_9V
IEFI USBC POWER ADAPTER XB,Log XB Adapter Current Rating,,,,diags,smc read D1IR,,,,,20000,LOG_XB_ADAPTER_CURRENT_RATING_9V
IEFI USBC POWER ADAPTER XB,DMM XB_VBUS_9V,V,8.55,9.45,dmm,XB_VBUS_SNS,{{XB_VBUS_9V}},,,,15000,DMM_XB_VBUS_9V
IEFI USBC POWER ADAPTER XB,DMM PPDCIN_G3H_XB_9V,V,8.55,9.45,dmm,PPDCIN_G3H,{{PPDCIN_G3H_XB_9V}},,,,15000,DMM_PPDCIN_G3H_9V
IEFI BATTERY EMULATOR XB CHARGER 9V SETUP,Write 2.9A to AUX_ILIM,,,,diags,i2c -v 11 0x09 0x14 0xAC 0x05 multiple,,,,,30000,SET_CHARGER_MAX_AUX_CURRENT_2.9A
IEFI BATTERY EMULATOR XB CHARGER 9V SETUP,Write sync register,,,,diags,i2c -v 11 0x09 0x00 0xFF 0xFF multiple,,,,,30000,WRITE_CHARGER_SYNC_REGISTER_2.9A
IEFI BATTERY EMULATOR XB CHARGER 9V SETUP,delay,ms,,,delay,1000,,,,,10000,DELAY_FOR_AUX_ILIM_2.9A
IEFI BATTERY EMULATOR XB CHARGER 9V SETUP,Set Battery Emulator to 9.2V (A:9V  B:11V),,,,set_battery_zynq,"i2c write(smbus,0d,3,31,a4,91)",,,,,30000,SET_BATTERY_EMULATOR_TO_9.2V (A:9V B:11V)
IEFI BATTERY EMULATOR XB CHARGER 9V SETUP,Check Battery Voltage,V,9,11,dmm,PPVBAT_G3H_CONN_FB_R,{{PPVBAT_G3H_CONN_A9V_B9V}},,,,15000,V_PPVBAT_G3H_CONN (A:9V B:8.6V)
IEFI BATTERY EMULATOR XB CHARGER 9V SETUP,Write 1A to Charge Register (A:9V  B:11V),,,,diags,i2c -v 11 0x09 0x14 0xF4 0x01 multiple,,,,,20000,WRITE_1A_TO_CHARGE_REGISTER (A:9V B:11V)
IEFI BATTERY EMULATOR XB CHARGER 9V SETUP,Write sync register,,,,diags,i2c -v 11 0x09 0x00 0xFF 0xFF multiple,,,,,20000,WRITE_SYNC_REGISTER(A:9V B:11V)
IEFI BATTERY EMULATOR XB CHARGER 9V@11V,Trim Battery Output Voltage,,,,trim_battery_output_zynq,11,0.05,,,,30000,TRIM_eBATTERY_VOLTAGE (A: 9V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 9V@11V,Check Battery Voltage,V,10.5,11.5,dmm,PPVBAT_G3H_CONN_FB_R,{{PPVBAT_G3H_CONN_A9V_B11V}},,,,15000,V_PPVBAT_G3H_CONN (A: 9V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 9V@11V,Read the SMC Charge Voltage  (A:9V B: 11V),,,,diags,smc read CHBV ,,,,,20000,READ_THE_SMC_CHARGE_VOLTAGE_ (A:9V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 9V@11V,Print the SMC Charge Voltage  (A:9V B: 11V),,,,parse,{{smc_read_CHBV}},{{smc_read_CHBV}},,,,20000,PARSE_THE_SMC_CHARGE_VOLTAGE_ (A:9V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 9V@11V,Check Charger Voltage  (A:9V B: 11V),mV,12500,12700,hextofloat,[[smc_read_CHBV]],{{CHBV_ebatt_9V_11v}},,,,20000,CHECK_THE_SMC_CHARGE_VOLTAGE_ (A:9V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 9V@11V,Read PPDCIN current ((A:9V B: 11V),,,,diags,smc read ID0R,,,,,20000,SMC_READ_PPDCIN_CURRENT (A:9V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 9V@11V,Parse PPDCIN current from adapter  (A:9V B: 11V),,,,parse,{{smc_read_ID0R}},{{smc_read_ID0R}},,,,20000,PARSE_PPDCIN_CURRENT_ (A:9V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 9V@11V,Check PPDCIN current (A:9V B: 11V),A,0,2,hextofloat,[[smc_read_ID0R]],{{ID0R_ebatt_9V_11v}},,,,20000,CHECK_PPDCIN_CURRENT (A:9V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 9V@11V,Read battery emulator Sink Current (A:9V B: 11V),mA,900,1100,read_sink_current_zynq,,{{i_ebatt_9V_11v}},,,,20000,BATTERY_EMULATOR_SINK_CURRENT (A:9V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 9V@11V,Read battery emulator Source Current (A:9V B: 11V),mA,-100,100,read_source_current_zynq,,{{srci_ebatt_9V_11v}},,,,20000,BATTERY_EMULATOR_SOURCE_CURRENT (A:9V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 5V SETUP,Write 0A to Charge Register,,,,diags,i2c -v 11 0x09 0x14 0x00 0x00 multiple,,,,,20000,WRITE_0A_TO_CHARGE
IEFI BATTERY EMULATOR XB CHARGER 5V SETUP,Write sync register,,,,diags,i2c -v 11 0x09 0x00 0xFF 0xFF multiple,,,,,20000,WRITE_SYNC_REGISTER
IEFI BATTERY EMULATOR XB CHARGER 5V SETUP,delay,ms,,,delay,1000,,,,,10000,DELAY
IEFI USBC POWER ADAPTER XB,XB Max Voltage constraint 5.6V,,,,diags,smc write D1VC 0x15 0xE0,,,,,20000,XB_MAX_VOLTAGE_CONSTRAINT_5.6V
IEFI USBC POWER ADAPTER XB,Ace Request an election,,,,diags,smc write AC-E 0x01,,,,,20000,ACE_REQUEST_AN_ELECTION_5V
IEFI USBC POWER ADAPTER XB,Wait PP20V_USBC_XB_VBUS change,V,,,detectvoltagefall,XB_VBUS_SNS;,6;,,,,30000,WAIT_PP20V_USBC_XB_VBUS_CHANGE
IEFI USBC POWER ADAPTER XB,Log XB Max Voltage constraint,,,,diags,smc read D1VC,,,,,20000,LOG_XB_MAX_VOLTAGE_CONSTRAINT_5V
IEFI USBC POWER ADAPTER XB,Get XB Adapter Voltage Rating,,,,diags,smc read D1VR,,,,,20000,GET_XB_ADAPTER_VOLTAGE_RATING_5V
IEFI USBC POWER ADAPTER XB,Check XB Adapter Voltage Rating 5V,,88 13,88 13,parse,{{smc_read_D1VR}},{{smc_read_D1VR}},,,,,CHECK_XB_ADAPTER_VOLTAGE_RATING_5V
IEFI USBC POWER ADAPTER XB,Log XB Adapter Current Rating,,,,diags,smc read D1IR,,,,,20000,LOG_XB_ADAPTER_CURRENT_RATING_5V
IEFI USBC POWER ADAPTER XB,DMM XB_VBUS_5V,V,4.75,5.46,dmm,XB_VBUS_SNS,{{XB_VBUS_5V}},,,,15000,DMM_XB_VBUS_5V
IEFI USBC POWER ADAPTER XB,DMM PPDCIN_G3H_5V,V,4.75,5.46,dmm,PPDCIN_G3H,{{PPDCIN_G3H_XB_5V}},,,,15000,DMM_PPDCIN_G3H_5V
IEFI BATTERY EMULATOR XB CHARGER 5V SETUP,Write 2.3A to AUX_ILIM,,,,diags,i2c -v 11 0x09 0x14 0x08 0x04 multiple,,,,,30000,SET_CHARGER_MAX_AUX_CURRENT_2.3A
IEFI BATTERY EMULATOR XB CHARGER 5V SETUP,Write sync register,,,,diags,i2c -v 11 0x09 0x00 0xFF 0xFF multiple,,,,,30000,WRITE_CHARGER_SYNC_REGISTER_2.3A
IEFI BATTERY EMULATOR XB CHARGER 5V SETUP,Set Battery Emulator to 9.2V (A:5V  B:11V),,,,set_battery_zynq,"i2c write(smbus,0d,3,31,a4,91)",,,,,30000,SET_BATTERY_EMULATOR_TO_9.2V (A:5V B:11V)
IEFI BATTERY EMULATOR XB CHARGER 5V SETUP,Check Battery Voltage,V,9,11,dmm,PPVBAT_G3H_CONN_FB_R,{{PPVBAT_G3H_CONN_A5V_B9V}},,,,15000,DMM_PPVBAT_G3H_CONN (A:5V B:11V)
IEFI BATTERY EMULATOR XB CHARGER 5V SETUP,Write 0.5A to Charge Register (A:9V  B:11V),,,,diags,i2c -v 11 0x09 0x14 0xFA 0x00 multiple,,,,,20000,WRITE_0.5A_TO_CHARGE_REGISTER (A:5V B:11V)
IEFI BATTERY EMULATOR XB CHARGER 5V SETUP,Write sync register,,,,diags,i2c -v 11 0x09 0x00 0xFF 0xFF multiple,,,,,20000,WRITE_Charger_SYNC_REGISTER_0.5A
IEFI BATTERY EMULATOR XB CHARGER 5V@11V,Trim Battery Output Voltage,,,,trim_battery_output_zynq,11,0.05,,,,30000,TRIM_eBATTERY_VOLTAGE (A: 5V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 5V@11V,Check Battery Voltage,V,10.5,11.5,dmm,PPVBAT_G3H_CONN_FB_R,{{PPVBAT_G3H_CONN_A20V_B11V}},,,,15000,V_PPVBAT_G3H_CONN_ (A: 5V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 5V@11V,Read the SMC Charge Voltage (A: 5V B: 11V),,,,diags,smc read CHBV ,,,,,20000,READ_THE_SMC_CHARGE_VOLTAGE (A: 5V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 5V@11V,Print the SMC Charge Voltage (A: 5V B: 11V),,,,parse,{{smc_read_CHBV}},{{smc_read_CHBV}},,,,20000,PARSE_THE_SMC_CHARGE_VOLTAGE (A: 5V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 5V@11V,Print the SMC Charge Voltage (A: 5V B: 11V),mV,12500,12700,hextofloat,[[smc_read_CHBV]],{{CHBV_ebatt_5V_11v}},,,,20000,CHECK_THE_SMC_CHARGE_VOLTAGE (A: 5V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 5V@11V,Charging current from adapter (A:5V  B:11V),,,,diags,smc read ID0R,,,,,20000,SMC_READ_PPDCIN_CURRENT(A:5V B:11V)
IEFI BATTERY EMULATOR XB CHARGER 5V@11V,Read PPDCIN current (A:5V  B:11V),,,,parse,{{smc_read_ID0R}},{{smc_read_ID0R}},,,,20000,PARSE_PPDCIN_CURRENT (A:5V B:11V)
IEFI BATTERY EMULATOR XB CHARGER 5V@11V,Check PPDCIN Current (A: 5V B: 11V),A,0,1.5,hextofloat,[[smc_read_ID0R]],{{ID0R_ebatt_5V_11v}},,,,20000,CHECK_PPDCIN_CURRENT (A: 5V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 5V@11V,Check Battery Sink Current (A: 5V B: 11V),mA,400,600,read_sink_current_zynq,,{{i_ebatt_5V_11v}},,,,20000,CHECK_BATTERY_EMULATOR_SINK_CURRENT (A: 5V B: 11V)
IEFI BATTERY EMULATOR XB CHARGER 5V@11V,Check Battery Source Current (A: 5V B: 11V),mA,-100,100,read_source_current_zynq,,{{i_ebatt_5V_11v}},,,,20000,CHECK_BATTERY_EMULATOR_SOURCE_CURRENT (A: 5V B: 11V)
IEFI USBC POWER ADAPTER XB,Set Battery Emulator to 12.5V,,,,set_battery_zynq,"i2c write(smbus,0d,3,31,0d,b7)",,,,,30000,SET_BATTERY_EMULATOR_TO_12.5V
IEFI USBC POWER ADAPTER XB,XB Max Voltage constraint 20V,,,,diags,smc write D1VC 0x52 0x08,,,,,20000,RESET_XB_MAX_VOLTAGE_CONSTRAINT_20V
IEFI USBC POWER ADAPTER XB,Ace Request an election,,,,diags,smc write AC-E 0x01,,,,,20000,ACE_REQUEST_AN_ELECTION
IEFI USBC POWER ADAPTER XB,Enable SMC to charger writes,,,,diags,smc write CHGD 0x00,,,,,20000,ENABLE_SMC_TO_CHARGER_COMMS
IEFI USBC POWER ADAPTER XB,Enable SMC to battery Communication,,,,diags,smc write BNCM 0x00,,,,,20000,ENABLE_SMC_TO_BATTERY_COMMS
IEFI USBC POWER ADAPTER XB,Wait XB_VBUS_20V,V,,,detectvoltageraise,XB_VBUS_SNS;PPDCIN_G3H;,19;19;,,,,30000,WAIT_XB_VBUS_20V
IEFI USBC POWER ADAPTER XB,DMM PPDCIN_G3H_20V,V,19,21,dmm,PPDCIN_G3H,,,,,15000,DMM_PPDCIN_G3H_20V_RECOVER
IEFI FAN,Relay FAN circuit,,,,relay,FAN_CTRL,,,,,15000,RELAY_FAN_CIRCUIT
IEFI FAN,Measure Fan supply,V,,,dmm,PP5V_G3S_FAN_CONN,{{Fan_PP5V_G3S_FAN_CONN_voltage}},,,,15000,DMM_PP5V_G3S_FAN_CONN
IEFI FAN,Set fan1 mode to normal running mode,,,,diags,smc write F0Md 1,,,,,30000,SET_FAN0_STAT_RUNNING
IEFI FAN,Set target fan0 speed to 2000,,,,diags,smc write F0Tg 0xD0 0x07 0x00 0x00,,,,,30000,SET_FAN0_TARGET_SPEED
IEFI FAN,Enable fake tach signal,,,,settach,50,,,,,10000,SET_TACH_FREQ_TO_50
IEFI FAN,Delay,ms,,,delay,500,,,,,,DELAY_FOR_FAKE_FAN_TEST
IEFI FAN,Check fan status is running,,,,diags,smc read F0St,,,,,30000,PRINT_FAN0_STA
IEFI FAN,Parse fan running status,,,,parse,{{read_F0St_value}},{{fan0_low_speed_running_status_hex_str}},,,,,PARSE_FAN0_STA
IEFI FAN,Convert fan status to int and compare to expected value,,5,5,hextoint,[[fan0_low_speed_running_status_hex_str]],{{fan0_low_speed_running_status}},,,,,CONVERT_FAN0_STA_IS_5
IEFI FAN,Send iefidiags command to DUT,,,,diags,smc write F0Md 2,,,,,30000,SET_F0MD
IEFI FAN,Set PWM duty cycle to 0.75,,,,diags,smc write F0Dc 0x00 0x00 0x40 0x3f,,,,,30000,SET_FAN0_PWM_DUTY_CYCLE_0.75
IEFI FAN,Delay,ms,,,delay,500,,,,,,DELAY_FOR_FAN_0.75_DUTY_CYCLE
IEFI FAN,Measure fan0 PWM frequency,Hz,29970,30030,measure,FAN0_PWM_DUT_OUTPUT,{{fixture_measure_pwm0_high_speed}},,,,,MEAS_FAN0_0.75_PWM_FREQ
IEFI FAN,Measure fan0 PWM duty cycle,%,72,78,measure,FAN0_PWM_DUT_OUTPUT,{{fixture_measure_pwm0_high_speed_cycle}},,,,,MEAS_FAN0_0.75_PWM_DUTY_CYCLE
IEFI FAN,Set Tach signal to 133 Hz,,,,settach,133,,,,,10000,SET_TACH_FREQ_75
IEFI FAN,Delay,ms,,,delay,500,,,,,,DELAY_FOR_READ_FAN_0.75_DUTY_CYCLE
IEFI FAN,Check tach0 frequency on DUT side,,,,diags,smc read F0Ac,,,,,30000,READ_FAN0_0.75_TACH_FREQ
IEFI FAN,Parse tach0 frequency on DUT side,,,,parse,{{read_F0Ac_value}},{{read_F0Ac_raw_value}},,,,,PARSE_FAN0_0.75_TACH_OUTPUT
IEFI FAN,Convert tach0 value from hex to float,,3950,4030,hextofloat,[[read_F0Ac_raw_value]],{{read_F0Ac_value}},,,,,CONVERT_FAN0_0.75_TACH_VALUE_TO_FLOAT
IEFI FAN,Disconnect FAN circuit,,,,disconnect,FAN_CTRL,,,,,15000,DISCONNECT_FAN_CIRCUIT
IEFI AMR,Connect AMR,,,,relay,AMR_RIGHT,,,,,30000,CONECT_FAKE_AMR_RIGHT
IEFI AMR,SMC Read LID_OPEN_LEFT,,,,diags,egpio --pick smc_ap --pin 69 --read,,,,,30000,PRINT_LID_OPEN_LEFT_INA
IEFI AMR,Get SMC LID States Left,,1,1,parse,{{LEFT_AMR_STATE}},,,,,,PARSE_LID_OPEN_LEFT_INA_STAT
IEFI AMR,SMC Read LID_OPEN_RIGHT,,,,diags,egpio --pick smc_ap --pin 65 --read,,,,,30000,PRINT_LID_OPEN_RIGHT_INA
IEFI AMR,Get SMC LID States Right,,1,1,parse,{{RIGHT_AMR_STATE}},,,,,,PARSE_LID_OPEN_RIGHT_INA_STAT
IEFI AMR,DMM measure IPD_LID_OPEN,V,1.62,1.98,dmm,IPD_LID_OPEN,,,,,15000,DMM_IPD_LID_OPEN_INA
IEFI AMR,DMM measure DFR_TOUCH_LID_OPEN_L,V,-0.5,0.5,dmm,DFR_TOUCH_LID_OPEN_L,,,,,15000,DMM_DFR_LID_OPEN_L_INA
IEFI AMR,Trigger LEFT AMR ,,,,relay,Magnet_LEFT,,,,,15000,RELAY_MAGNET_LEFT_ON
IEFI AMR,SMC Read LID_OPEN_LEFT,,,,diags,egpio --pick smc_ap --pin 69 --read,,,,,30000,READ_LID_OPEN_LEFT_W/_LEFT_A
IEFI AMR,Get SMC LID States Left,,0,0,parse,{{LEFT_AMR_STATE}},,,,,,PARSE_LID_OPEN_LEFT_STATE
IEFI AMR,SMC Read LID_OPEN_RIGHT,,,,diags,egpio --pick smc_ap --pin 65 --read,,,,,30000,READ_LID_OPEN_RIGHT_W/_LEFT_A
IEFI AMR,SMC Read LID_OPEN_RIGHT,,1,1,parse,{{RIGHT_AMR_STATE}},,,,,,PARSE_LID_OPEN_RIGHT_STAT_W/_LEFT_A
IEFI AMR,DMM measure IPD_LID_OPEN,V,1.62,1.98,dmm,IPD_LID_OPEN,,,,,15000,DMM_IPD_LID_OPEN_W/_LEFT_A
IEFI AMR,DMM measure DFR_TOUCH_LID_OPEN_L,V,-0.5,0.5,dmm,DFR_TOUCH_LID_OPEN_L,,,,,15000,DMM_DFR_LID_OPEN_L_W/_LEFT_A
IEFI AMR,Trigger Right AMR,,,,relay,Magnet_RIGHT,,,,,15000,RELAY_MAGNET_RIGHT_ON
IEFI AMR,SMC Read LID_OPEN_LEFT,,,,diags,egpio --pick smc_ap --pin 69 --read,,,,,30000,PRINT_LID_OPEN_LEFT_A
IEFI AMR,Get SMC LID States Left,,0,0,parse,{{LEFT_AMR_STATE}},,,,,,PARSE_LID_OPEN_LEFT_A_STAT
IEFI AMR,SMC Read LID_OPEN_RIGHT,,,,diags,egpio --pick smc_ap --pin 65 --read,,,,,30000,PRINT_LID_OPEN_RIGHT_A
IEFI AMR,SMC Read LID_OPEN_RIGHT,,0,0,parse,{{RIGHT_AMR_STATE}},,,,,,PARSE_LID_OPEN_RIGHT_A_STAT
IEFI AMR,DMM measure IPD_LID_OPEN,V,-0.5,0.5,dmm,IPD_LID_OPEN,,,,,15000,DMM_IPD_LID_OPEN_A
IEFI AMR,DMM measure DFR_TOUCH_LID_OPEN_L,V,1.62,1.98,dmm,DFR_TOUCH_LID_OPEN_L,,,,,15000,DMM_DFR_LID_OPEN_L_A
MAC EFI BOOT,MAC EFI power sequence start test,kHz,,,powersequencemonitor,START,1;2,,,,60000,MACEFI_BOOT_PS_START
MAC EFI BOOT,Start timer,,,,timerreset,,,,,,,SET_MACEFI_START_TIME_STAMP
MAC EFI BOOT,Boot MacEFI,,,,diags,x86 boot,,,,,150000,BOOT_MACEFI
MAC EFI BOOT,Connct PCH UART,,,,relay,DEBUG_UART,PCH,,,,15000,RELAY_PCH_UART_ON
MAC EFI BOOT,Wait for Intel ON,S,,,detectvoltageraise,PM_PCH_SYS_PWROK; PPVCC_S0_CPU; PLT_RST_L;,3;0.5;1.5;,,,,20000,WAIT_INTEL_POWER_ON
MAC EFI BOOT,Detect Mac EFI flag,,,,enterefi,,,,,,300000,ENTER_MACEFI
MAC EFI BOOT,Stop timer,s,,,timerstop,,{{intel_boot_time}},,,,,GET_MACEFI_BOOT_TIME
MAC EFI BOOT,MAC EFI Power sequence stop test,kHz,,,powersequencemonitor,STOP,1,,,,60000,MACEFI_BOOT_PS_STOP
MAC EFI BOOT,Parse all channel ps timing data,ms,,,powersequencedelta,all,"rise,PP3V3_S5",,,,,MACEFI_PS_TIMMING_DATA
MAC EFI BOOT,Measure active status IO voltage,V,19,21,dmm,PPDCIN_G3H,{{MACEFI_PPDCIN_G3H_voltage}},,,,15000,MACEFI_V_PPDCIN_G3H
MAC EFI BOOT,Measure active status IO voltage,V,11.34,13.86,dmm,PPVBAT_G3H_CONN_FB_R,{{MACEFI_PPVBAT_G3H_CONN_voltage}},,,,15000,MACEFI_V_PPVBAT_G3H_CONN
MAC EFI BOOT,Measure active status IO voltage,V,11.34,13.86,dmm,PPBUS_G3H,{{MACEFI_PPBUS_G3H_voltage}},,,,15000,MACEFI_V_PPBUS_G3H
MAC EFI BOOT,Measure active status IO voltage,V,0.5,1.55,dmm,PPVCC_S0_CPU,{{MACEFI_PPVCC_S0_CPU_voltage}},,,,15000,MACEFI_V_PPVCC_S0_CPU
MAC EFI BOOT,Measure active status IO voltage,V,-0.1,0.1,dmm,PPVCCGT_S0_CPU,{{MACEFI_PPVCCGT_S0_CPU_voltage}},,,,15000,MACEFI_V_PPVCCGT_S0_CPU
MAC EFI BOOT,Measure active status IO voltage,V,0.5,1.55,dmm,PPVCCSA_S0_CPU,{{MACEFI_PPVCCSA_S0_CPU_voltage}},,,,15000,MACEFI_V_PPVCCSA_S0_CPU
MAC EFI BOOT,Measure active status IO voltage,V,0.5,1.55,dmm,PPVCCIO_S0_CPU,{{MACEFI_PPVCCIO_S0_CPU_voltage}},,,,15000,MACEFI_V_PPVCCIO_S0_CPU
MAC EFI BOOT,Measure active status IO voltage,V,-0.1,0.1,dmm,PPVCCEDRAM_S0_CPU,{{MACEFI_PPVCCEDRAM_S0_CPU_voltage}},,,,15000,MACEFI_V_PPVCCEDRAM_S0_CPU
MAC EFI BOOT,Measure active status IO voltage,V,0.95,1.1,dmm,PP1V_S0SW,{{MACEFI_PP1V_S0SW_voltage}},,,,15000,MACEFI_V_PP1V_S0SW
MAC EFI BOOT,Measure active status IO voltage,V,1.14,1.26,dmm,PP1V2_S0SW,{{MACEFI_PP1V2_S0SW_voltage}},,,,15000,MACEFI_V_PP1V2_S0SW
MAC EFI BOOT,Measure active status IO voltage,V,0.95,1.05,dmm,PP1V_S3,{{MACEFI_PP1V_S3_voltage}},,,,15000,MACEFI_V_PP1V_S3
MAC EFI BOOT,Measure active status IO voltage,V,0.57,0.63,dmm,PP0V6_S0_DDRVTT,{{MACEFI_PP0V6_S0_DDRVTT_voltage}},,,,15000,MACEFI_V_PP0V6_S0_DDRVTT
MAC EFI BOOT,Measure active status IO voltage,V,0.9975,1.1025,dmm,PP1V_PRIM,{{MACEFI_PP1V_PRIM_voltage}},,,,15000,MACEFI_V_PP1V_PRIM
MAC EFI BOOT,Measure active status IO voltage,V,3.135,3.465,dmm,PP3V3_S5,{{MACEFI_PP3V3_S5_voltage}},,,,15000,MACEFI_V_PP3V3_S5
MAC EFI BOOT,Measure active status IO voltage,V,1.71,1.89,dmm,PP1V8_S5,{{MACEFI_PP1V8_S5_voltage}},,,,15000,MACEFI_V_PP1V8_S5
MAC EFI BOOT,Measure active status IO voltage,V,0.6,1.2,dmm,PPVPCORE_S5,{{MACEFI_PPVPCORE_S5_voltage}},,,,15000,MACEFI_V_PPVPCORE_S5
MAC EFI BOOT,Measure active status IO voltage,V,2.85,3.15,dmm,PP3V_G3H_RTC,{{MACEFI_PP3V_G3H_RTC_voltage}},,,,15000,MACEFI_V_PP3V_G3H_RTC
MAC EFI BOOT,Measure active status IO voltage,V,1.71,1.89,dmm,PP1V8_SLPS2R,{{MACEFI_PP1V8_SLPS2R_voltage}},,,,15000,MACEFI_V_PP1V8_SLPS2R
MAC EFI BOOT,Measure active status IO voltage,V,1.71,1.89,dmm,PP1V8_AWAKE,{{MACEFI_PP1V8_AWAKE_voltage}},,,,15000,MACEFI_V_PP1V8_AWAKE
MAC EFI BOOT,Measure active status IO voltage,V,1.045,1.155,dmm,PP1V1_SLPS2R,{{MACEFI_PP1V1_SLPS2R_voltage}},,,,15000,MACEFI_V_PP1V1_SLPS2R
MAC EFI BOOT,Measure active status IO voltage,V,0.76,0.84,dmm,PP0V8_SLPS2R,{{MACEFI_PP0V8_SLPS2R_voltage}},,,,15000,MACEFI_V_PP0V8_SLPS2R
MAC EFI BOOT,Measure active status IO voltage,V,0.779,0.861,dmm,PP0V82_SLPDDR,{{MACEFI_PP0V82_SLPDDR_voltage}},,,,15000,MACEFI_V_PP0V82_SLPDDR
MAC EFI BOOT,Measure active status IO voltage,V,3.135,3.465,dmm,PP3V3_AWAKE,{{MACEFI_PP3V3_AWAKE_voltage}},,,,15000,MACEFI_V_PP3V3_AWAKE
MAC EFI BOOT,Measure active status IO voltage,V,0.76,1.166,dmm,PPVDDCPUSRAM_AWAKE,{{MACEFI_PPVDDCPUSRAM_AWAKE_voltage}},,,,15000,MACEFI_V_PPVDDCPUSRAM_AWAKE
MAC EFI BOOT,Measure active status IO voltage,V,0.855,0.945,dmm,PP0V9_SLPDDR,{{MACEFI_PP0V9_SLPDDR_voltage}},,,,15000,MACEFI_V_PP0V9_SLPDDR
MAC EFI BOOT,Measure active status IO voltage,V,1.045,1.155,dmm,PP1V1_SLPDDR,{{MACEFI_PP1V1_SLPDDR_voltage}},,,,15000,MACEFI_V_PP1V1_SLPDDR
MAC EFI BOOT,Measure active status IO voltage,V,1.14,1.26,dmm,PP1V2_AWAKE,{{MACEFI_PP1V2_AWAKE_voltage}},,,,15000,MACEFI_V_PP1V2_AWAKE
MAC EFI BOOT,Measure active status IO voltage,V,0.5,1,dmm,PPVDDCPU_AWAKE,{{MACEFI_PPVDDCPU_AWAKE_voltage}},,,,15000,MACEFI_V_PPVDDCPU_AWAKE
MAC EFI BOOT,Measure active status IO voltage,V,3.135,3.465,dmm,PP3V3_G3H_RTC,{{MACEFI_PP3V3_G3H_RTC_voltage}},,,,15000,MACEFI_V_PP3V3_G3H_RTC
MAC EFI BOOT,Measure active status IO voltage,V,3.135,3.465,dmm,PP3V3_G3H,{{MACEFI_PP3V3_G3H_voltage}},,,,15000,MACEFI_V_PP3V3_G3H
MAC EFI BOOT,Measure active status IO voltage,V,3.135,3.465,dmm,PP3V3_G3S,{{MACEFI_PP3V3_G3S_voltage}},,,,15000,MACEFI_V_PP3V3_G3S
MAC EFI BOOT,Measure active status IO voltage,V,4.75,5.25,dmm,PP5V_G3S,{{MACEFI_PP5V_G3S_voltage}},,,,15000,MACEFI_V_PP5V_G3S
MAC EFI BOOT,Measure active status IO voltage,V,1.71,1.89,dmm,PP1V8_G3S,{{MACEFI_PP1V8_G3S_voltage}},,,,15000,MACEFI_V_PP1V8_G3S
MAC EFI BOOT,Measure active status IO voltage,V,2.095,3.105,dmm,PP2V5_NAND_SSD0,{{MACEFI_PP2V5_NAND_SSD0_voltage}},,,,15000,MACEFI_V_PP2V5_NAND_SSD0
MAC EFI BOOT,Measure active status IO voltage,V,0.855,0.945,dmm,PP0V9_SSD0,{{MACEFI_PP0V9_SSD0_voltage}},,,,15000,MACEFI_V_PP0V9_SSD0
MAC EFI BOOT,Measure active status IO voltage,V,1.71,1.89,dmm,PP1V8_IO_SSD0,{{MACEFI_PP1V8_IO_SSD0_voltage}},,,,15000,MACEFI_V_PP1V8_IO_SSD0
MAC EFI BOOT,Measure active status IO voltage,V,-0.1,0.1,dmm,PP20V_USBC_XA_VBUS,{{MACEFI_PP20V_USBC_XA_VBUS_voltage}},,,,15000,MACEFI_V_PP20V_USBC_XA_VBUS
MAC EFI BOOT,Measure active status IO voltage,V,19,21,dmm,PP20V_USBC_XB_VBUS,{{MACEFI_PP20V_USBC_XB_VBUS_voltage}},,,,15000,MACEFI_V_PP20V_USBC_XB_VBUS
MAC EFI BOOT,Measure Memory rail,V,1.71,1.89,dmm,PVDDQ_PGOOD,{{MACEFI_V_PVDDQ_PGOOD_voltage}},,,,15000,MACEFI_V_PVDDQ_PGOOD
MAC EFI BOOT,Measure Memory rail,V,1.14,1.26,dmm,PP1V2_S3,{{MACEFI_PP1V2_S3_voltage}},,,,15000,MACEFI_V_PP1V2_S3
MAC EFI BOOT,Mearure DFR rail,V,1.71,1.89,dmm,PP1V8_DFR,{{MACEFI_V_PP1V8_DFR_voltage}},,,,15000,MACEFI_V_PP1V8_DFR
MAC EFI BOOT,Mearure DFR rail,V,3.135,3.465,dmm,PP3V3_G3HSW_DFR,{{MACEFI_V_PP3V3_G3HSW_DFR_voltage}},,,,15000,MACEFI_V_PP3V3_G3HSW_DFR
MAC EFI BOOT,Mearure DFR rail,V,4.75,5.25,dmm,PP5V_G3S_DFR_FILT,{{MACEFI_V_PP5V_G3S_DFR_FILT_voltage}},,,,15000,MACEFI_V_PP5V_G3S_DFR_FILT
MAC EFI BOOT,Check BT/WiFi Supply,V,,,dmm,PP3V3_G3S_WLANBT,{{EFI_PP3V3_G3S_WLANBT_voltage}},,,,15000,DMM_PP3V3_G3S_WLANBT
MAC EFI BOOT,Check BT/WiFi Supply,V,,,dmm,PP1V8_G3S_WLANBT,{{EFI_PP1V8_G3S_WLANBT_voltage}},,,,15000,DMM_PP1V8_G3S_WLANBT
MAC EFI DEBUG,Get boot rom version,,,,efidiags,ver,:\>,,,,60000,PRINT_BR_VER
MAC EFI TBT,Get TBT Firmware Version,,,,efidiags,ThorUtilInternal_7.72.efi -i,:\>,,,,60000,LOG_TBT_FW_INFO
MAC EFI TBT,Parse Firmware Version,,,,parse,{{TBT_FW_Version}},{{TBT_FW_Version}},,,,10000,PARSE_TBT_FW_VER
MAC EFI BRISTOL INITIAL,Bristol probing,,,,efidiags,/AppleInternal/Diagnostics/maestre.efi -i,:\>,,,,120000,BRISTOL_PROBING
MAC EFI WIFI/BT,Check BT/WiFi Supply,V,3.135,3.465,dmm,PP3V3_G3S_WLANBT,{{EFI_PP3V3_G3S_WLANBT_voltage}},,,,15000,DMM_PP3V3_G3S_WLANBT
MAC EFI WIFI/BT,Check BT/WiFi Supply,V,1.71,1.89,dmm,PP1V8_G3S_WLANBT,{{EFI_PP1V8_G3S_WLANBT_voltage}},,,,15000,DMM_PP1V8_G3S_WLANBT
MAC EFI WIFI/BT,Disable WIFI(WA for reflow MLB with updated WIFI FW),,,,diags,smc write MPWF 0x00,,,,,30000,DISABLE_WIFI_WA
MAC EFI WIFI/BT,Enable WIFI,,,,diags,smc write MPWF 0x01,,,,,30000,ENABLE_WIFI
MAC EFI WIFI/BT,Enable BT,,,,diags,smc write MPBT 0x01,,,,,30000,ENABLE_BT
MAC EFI WIFI/BT,Print WIFI key value,,,,diags,smc read MPWF,,,,,30000,PRINT_WIFI_ON_STATUS
MAC EFI WIFI/BT,Print BT key value,,,,diags,smc read MPBT,,,,,30000,PRINT_BT_ON_STATUS
MAC EFI WIFI/BT,Send command to DUT,,,,efidiags,pci 1 0 0 -s 0,:\>,,,,30000,PRINT_WIFI_POWER_STAT_ON
MAC EFI WIFI/BT,Send command to DUT,,,,efiparse,E4 14 88 44,,,,,5000,PARSE_WIFI_POWER_STAT_ON
MAC EFI WIFI/BT,Disable WIFI,,,,diags,smc write MPWF 0x00,,,,,30000,DISABLE_WIFI
MAC EFI WIFI/BT,Disable BT,,,,diags,smc write MPBT 0x00,,,,,30000,DISABLE_BT
MAC EFI WIFI/BT,Send command to DUT,,,,efidiags,pci 1 0 0 -s 0,:\>,,,,30000,PRINT_WIFI_POWER_STAT_OFF
MAC EFI WIFI/BT,Send command to DUT,,,,efiparse,Not Present,,,,,5000,PARSE_WIFI_POWER_STAT_OFF
MAC EFI SMC ADC,Read ID0R(ADC3),,,,diags,smc read ID0R,,,,,30000,PRINT_SMC_ID0R
MAC EFI SMC ADC,Parse ID0R Info,,,,parse,{{smc_read_ID0R}},{{MACEFI_ID0R_hex}},,,,,PARSE_SMC_ID0R
MAC EFI SMC ADC,Convert ID0R hex to float,,0.001,3,hextofloat,[[MACEFI_ID0R_hex]],,,,,,PARSE_ID0R_VALUE
MAC EFI SMC ADC,Read VD0R(ADC4) info,,,,diags,smc read VD0R,,,,,30000,PRINT_SMC_VD0R
MAC EFI SMC ADC,Parse VD0R Info,,,,parse,{{smc_read_VD0R}},{{MACEFI_VD0R_hex}},,,,,PARSE_SMC_VD0R
MAC EFI SMC ADC,Convert VD0R hex to float,,19,20.5,hextofloat,[[MACEFI_VD0R_hex]],,,,,,CONVERT_VD0R_VALUE
MAC EFI SMC ADC,Disconnect adapter,,,,disconnect,PP20V_USBC_ADAPTER_CTL,,,,,15000,DISCONNECT_ALL_CC_VBUS
MAC EFI SMC ADC,Read IC0R(ADC0),,,,diags,smc read IC0R,,,,,30000,PRINT_SMC_IC0R
MAC EFI SMC ADC,Parse IC0R Info,,,,parse,{{smc_read_IC0R}},{{MACEFI_IC0R_hex}},,,,,PARSE_SMC_IC0R
MAC EFI SMC ADC,Convert IC0R hex to float,,0.001,3,hextofloat,[[MACEFI_IC0R_hex]],,,,,,PARSE_IC0R_VALUE
MAC EFI SMC ADC,Read VP0R(ADC1),,,,diags,smc read VP0R,,,,,30000,PRINT_SMC_VP0R
MAC EFI SMC ADC,Parse VP0R Info,,,,parse,{{smc_read_VP0R}},{{MACEFI_VP0R_hex}},,,,,PARSE_SMC_VP0R
MAC EFI SMC ADC,Convert VP0R hex to float,,6,13.5,hextofloat,[[MACEFI_VP0R_hex]],,,,,,CONVERT_VP0R_VALUE
MAC EFI SMC ADC,Read IPBR(ADC2),,,,diags,smc read IPBR,,,,,30000,PRINT_SMC_IPBR
MAC EFI SMC ADC,Parse IPBR Info,,,,parse,{{smc_read_IPBR}},{{MACEFI_IPBR_hex}},,,,,PARSE_SMC_IPBR
MAC EFI SMC ADC,Convert IPBR hex to float,,0.001,3,hextofloat,[[MACEFI_IPBR_hex]],,,,,,PARSE_IPBR_VALUE
MAC EFI USBC TEST SETUP,Disconnect adapter,,,,disconnect,PP20V_USBC_ADAPTER_CTL,,,,,15000,DISCONNECT_ALL_CC_VBUS
MAC EFI USBC TEST SETUP,Wait for discharge,S,,,detectvoltagefall,PP20V_USBC_XA_VBUS;PP20V_USBC_XB_VBUS;,0.5;0.5;,,,,30000,WAIT_FOR_DISCHAREGE_VBUS
MAC EFI USBC TEST SETUP,Measure VBUS voltage,V,-0.5,0.5,dmm,PP20V_USBC_XA_VBUS,{{PP20V_USBC_XA_VBUS_voltage}},,,,15000,MEAS_V_PP20V_USBC_XA_VBUS
MAC EFI USBC TEST SETUP,Measure VBUS voltage,V,-0.5,0.5,dmm,PP20V_USBC_XB_VBUS,{{PP20V_USBC_XB_VBUS_voltage}},,,,15000,MEAS_V_PP20V_USBC_XB_VBUS
MAC EFI USBC TEST SETUP,Reset CC,,,,reseteload,0,,,,,10000,RESET_CC
MAC EFI USBC TEST SETUP,Delay,ms,,,delay,2000,,,,,,DELAY_RESET_CC
MAC EFI USBC TEST SETUP,Reset XA,,,,usbctrl,reset,XA,,,,20000,RESET_XA
MAC EFI USBC TEST SETUP,Reset XB,,,,usbctrl,reset,XB,,,,20000,RESET_XB
MAC EFI USBC TEST SETUP,Delay,ms,,,delay,2000,,,,,,DELAY_RESET
USBC 2.0 TOP PRESENT TEST,Route 2.0_TOP DEVICE,,,,efidiags,map -r,:\>,,,,60000,PRINT_USBC_TOP_2.0_DEVICE_W/O_UDISK
USBC 2.0 TOP PRESENT TEST,Connect XA_2.0_TOP,,,,usbctrl,connect,XA_2.0_TOP,,,,20000,CONNECT_XA_2.0_TOP
USBC 2.0 TOP PRESENT TEST,Connect XB_2.0_TOP,,,,usbctrl,connect,XB_2.0_TOP,,,,20000,CONNECT_XB_2.0_TOP
USBC 2.0 TOP PRESENT TEST,Delay,ms,,,delay,5000,,,,,,DELAY_CONNECT_XB
USBC 2.0 TOP PRESENT TEST,ROUTIE 2.0_TOP DEVICE,,,,efidiags,map -r,:\>,,,,70000,PRINT_USBC_TOP_2.0_DEVICE_W/_UDISK
USBC 2.0 TOP PRESENT TEST,Check XA_2.0_TOP presence,,XA2T,XA2T,efiparse,XA2T,,,,,20000,CHECK_XA_2.0_TOP_PRESENCE
USBC 2.0 TOP PRESENT TEST,Check XB_2.0_TOP presence,,XB2T,XB2T,efiparse,XB2T,,,,,20000,CHECK_XB_2.0_TOP_PRESENCE
USBC ACE2 5V LEAKAGE,Reset XA,,,,usbctrl,reset,XA,,,,20000,RESET_XA
USBC ACE2 5V LEAKAGE,Delay,,,,delay,2000,,,,,20000,DELAY_FOR_RESET_XA
USBC ACE2 5V LEAKAGE,DMM PP20V_USBC_XA_VBUS XA USB removed,V,-0.1,0.1,dmm,XA_VBUS_SNS,{{XA_VBUS_SNS_value}},,,,15000,MEAS_PP20V_USBC_XA_VBUS_RM_USB
USBC ACE2 5V LEAKAGE,Reset XB,,,,usbctrl,reset,XB,,,,20000,RESET_XB
USBC ACE2 5V LEAKAGE,Delay,,,,delay,2000,,,,,20000,DELAY_FOR_RESET_XB
USBC ACE2 5V LEAKAGE,DMM PP20V_USBC_XB_VBUS XB USB removed,V,-0.1,0.1,dmm,XB_VBUS_SNS,{{XB_VBUS_SNS_value}},,,,15000,MEAS_PP20V_USBC_XB_VBUS_RM_USB
USBC 2.0 BOTTOM PRESENT TEST,Connect XA_2.0_BOT,,,,usbctrl,connect,XA_2.0_BOT,,,,20000,CONNECT_XA_2.0_BOT
USBC 2.0 BOTTOM PRESENT TEST,Connect XB_2.0_BOT,,,,usbctrl,connect,XB_2.0_BOT,,,,20000,CONNECT_XB_2.0_BOT
USBC 2.0 BOTTOM PRESENT TEST,Delay,ms,,,delay,5000,,,,,,DELAY_CONNECT_XB
USBC 2.0 BOTTOM PRESENT TEST,ROUTIE 2.0_BOT DEVICE,,,,efidiags,map -r,:\>,,,,60000,PRINT_USBC_BOT_2.0_DEVICE_W/_UDISK
USBC 2.0 BOTTOM PRESENT TEST,Check XA_2.0_BOT presence,,XA2B,XA2B,efiparse,XA2B,,,,,20000,CHECK_XA_2.0_BOT_PRESENCE
USBC 2.0 BOTTOM PRESENT TEST,Check XB_2.0_BOT presence,,XB2B,XB2B,efiparse,XB2B,,,,,20000,CHECK_XB_2.0_BOT_PRESENCE
USBC 2.0 BOTTOM PRESENT TEST,Reset XA,,,,usbctrl,reset,XA,,,,20000,RESET_XA
USBC 2.0 BOTTOM PRESENT TEST,Reset XB,,,,usbctrl,reset,XB,,,,20000,RESET_XB
USBC 2.0 BOTTOM PRESENT TEST,Delay,ms,,,delay,2000,,,,,,DELAY_FOR_RESET
USBC 3.0 TOP PRESENT TEST,Connect XA_3.0_TOP,,,,usbctrl,connect,XA_3.0_TOP,,,,20000,CONNECT_XA_3.0_TOP
USBC 3.0 TOP PRESENT TEST,Connect XB_3.0_TOP,,,,usbctrl,connect,XB_3.0_TOP,,,,20000,CONNECT_XB_3.0_TOP
USBC 3.0 TOP PRESENT TEST,Delay,ms,,,delay,5000,,,,,,DELAY_CONNECT_XB
USBC 3.0 TOP PRESENT TEST,ROUTIE 3.0_TOP DEVICE,,,,efidiags,map -r,:\>,,,,60000,PRINT_USBC_TOP_3.0_DEVICE_W/_UDISK
USBC 3.0 TOP PRESENT TEST,Check XA_3.0_TOP presence,,XA3T,XA3T,efiparse,XA3T,,,,,20000,CHECK_XA_3.0_TOP_PRESENCE
USBC 3.0 TOP PRESENT TEST,Check XB_3.0_TOP presence,,XB3T,XB3T,efiparse,XB3T,,,,,20000,CHECK_XB_3.0_TOP_PRESENCE
USBC 3.0 TOP PRESENT TEST,Reset XA,,,,usbctrl,reset,XA,,,,20000,RESET_XA
USBC 3.0 TOP PRESENT TEST,Reset XB,,,,usbctrl,reset,XB,,,,20000,RESET_XB
USBC 3.0 TOP PRESENT TEST,Delay,ms,,,delay,2000,,,,,,DELAY_FOR_RESET
USBC 3.0 BOTTOM PRESENT TEST,Connect XA_3.0_BOT,,,,usbctrl,connect,XA_3.0_BOT,,,,20000,CONNECT_XA_3.0_BOT
USBC 3.0 BOTTOM PRESENT TEST,Connect XB_3.0_BOT,,,,usbctrl,connect,XB_3.0_BOT,,,,20000,CONNECT_XB_3.0_BOT
USBC 3.0 BOTTOM PRESENT TEST,Delay,ms,,,delay,5000,,,,,,DELAY_CONNECT_XB
USBC 3.0 BOTTOM PRESENT TEST,ROUTIE 3.0_BOT DEVICE,,,,efidiags,map -r,:\>,,,,60000,PRINT_USBC_BOT_3.0_DEVICE_W/_UDISK
USBC 3.0 BOTTOM PRESENT TEST,Check XA_3.0_BOT presence,,XA3B,XA3B,efiparse,XA3B,,,,,20000,CHECK_XA_3.0_BOT_PRESENCE
USBC 3.0 BOTTOM PRESENT TEST,Check XB_3.0_BOT presence,,XB3B,XB3B,efiparse,XB3B,,,,,20000,CHECK_XB_3.0_BOT_PRESENCE
USBC 3.0 BOTTOM PRESENT TEST,Reset XA,,,,usbctrl,reset,XA,,,,20000,RESET_XA
USBC 3.0 BOTTOM PRESENT TEST,Reset XB,,,,usbctrl,reset,XB,,,,20000,RESET_XB
USBC 3.0 BOTTOM PRESENT TEST,Delay,ms,,,delay,2000,,,,,,DELAY_AFTER_PRESENCE_TEST
MAC EFI USBC ELOAD SETUP,DMM PP20V_USBC_XA_VBUS XA_20V,V,-0.1,0.1,dmm,XA_VBUS_SNS,{{XA_VBUS_SNS_value}},,,,15000,MEAS_PP20V_USBC_XA_VBUS
MAC EFI USBC ELOAD SETUP,DMM PP20V_USBC_XB_VBUS XA_20V,V,-0.1,0.1,dmm,XB_VBUS_SNS,{{XB_VBUS_SNS_value}},,,,15000,MEAS_PP20V_USBC_XB_VBUS
MAC EFI USBC XA XB TOP ELOAD,Config XAXB VBUS ELOAD CC,,,,usbctrl,connect,XAXB_ELOAD_TOP,,,,20000,CONFIG_XAXB_TOP_VBUS_ELOAD_CC
MAC EFI USBC XA XB TOP ELOAD,Delay,ms,,,delay,2000,,,,,,DELAY_FOR_XAXB_VBUS_CONIFG
MAC EFI USBC XA XB TOP ELOAD,CONNECT XAXB TOP ELOAD,,,,relay,ELOAD_CTRL,VBUS_XA,,,,15000,CONNECT_XA_TOP_VBUS_ELOAD
MAC EFI USBC XA XB TOP ELOAD,CONNECT XAXB TOP ELOAD,,,,relay,ELOAD_CTRL,VBUS_XB,,,,15000,CONNECT_XB_TOP_VBUS_TOP_ELOAD
MAC EFI USBC XA XB TOP ELOAD,CONNECT XAXB TOP ELOAD,,,,relay,ELOAD_CTRL,VCON2_XA,,,,15000,CONNECT_XA_TOP_VCON_ELOAD
MAC EFI USBC XA XB TOP ELOAD,CONNECT XAXB TOP ELOAD,,,,relay,ELOAD_CTRL,VCON2_XB,,,,15000,CONNECT_XB_TOP_VCON_ELOAD
MAC EFI USBC XA XB TOP ELOAD,Delay,ms,,,delay,2000,,,,,,DELAY
MAC EFI USBC XA XB TOP ELOAD,Set XA VBUS Eload 2.8A,mA,,,eload,VBUS_XA_A,2800,,,,,SET_XA_TOP_VBUS_ELOAD_2.8A
MAC EFI USBC XA XB TOP ELOAD,Set XB VBUS Eload 1.5A,mA,,,eload,VBUS_XB_B,1500,,,,,SET_XB_TOP_VBUS_ELOAD_1.5A
MAC EFI USBC XA XB TOP ELOAD,Set XA VCON Eload 0.3A,mA,,,eload,VCON_XA_C,300,,,,,SET_XA_TOP_VCON_ELOAD_0.3A
MAC EFI USBC XA XB TOP ELOAD,Set XB VCON Eload 0.3A,mA,,,eload,VCON_XB_D,300,,,,,SET_XB_TOP_VCON_ELOAD_0.3A
MAC EFI USBC XA XB TOP ELOAD,Delay,ms,,,delay,2000,,,,,,DELAY@2.8A
MAC EFI USBC XA XB TOP ELOAD,Measure XA VBUS voltage @2.8A,V,4.75,5.25,dmm,XA_VBUS_SNS,{{XA_VBUS_2.8A}},,,,15000,MEAS_XA_TOP_VBUS_VOLTAGE@2.8A
MAC EFI USBC XA XB TOP ELOAD,Measure XB VBUS voltage @1.5A,V,4.75,5.25,dmm,XB_VBUS_SNS,{{XB_VBUS_1.5A}},,,,15000,MEAS_XB_TOP_VBUS_VOLTAGE@1.5A
MAC EFI USBC XA XB TOP ELOAD,Measure XA_CC2 voltage @0.3A,V,4.75,5.25,dmm,USBC_XA_CC2_CABLE,{{XA_VCON2_300mA}},,,,15000,MEAS_XA_TOP_VCON_VOLTAGE@0.3A
MAC EFI USBC XA XB TOP ELOAD,Measure XB_CC2 voltage @0.3A,V,4.75,5.25,dmm,USBC_XB_CC2_CABLE,{{XB_VCON2_300mA}},,,,15000,MEAS_XB_TOP_VCON_VOLTAGE@0.3A
MAC EFI USBC XA XB TOP ELOAD,Measure XA VBUS Current @2.8A,mA,2750,2850,iload,VBUS_XA_A,{{XA_IBUS_2.8A}},,,,15000,MEAS_XA_TOP_VBUS_CURRENT@2.8A
MAC EFI USBC XA XB TOP ELOAD,Measure XB VBUS Current @1.5A,mA,1450,1550,iload,VBUS_XB_B,{{XB_IBUS_1.5A}},,,,15000,MEAS_XB_TOP_VBUS_CURRENT@1.5A
MAC EFI USBC XA XB TOP ELOAD,Measure XA VCON Current @0.3A,mA,285,315,iload,VCON_XA_C,{{XA_ICONN2_300mA}},,,,15000,MEAS_XA_TOP_VCON_CURRENT@0.3A
MAC EFI USBC XA XB TOP ELOAD,Measure XB VCON Current @0.3A,mA,285,315,iload,VCON_XB_D,{{XB_ICONN2_300mA}},,,,15000,MEAS_XB_TOP_VCON_CURRENT@0.3A
MAC EFI USBC XA XB TOP ELOAD,Set XA VBUS Eload 3.7A,mA,,,eload,VBUS_XA_A,3700,,,,,SET_XA_TOP_VBUS_ELOAD_3.7A
MAC EFI USBC XA XB TOP ELOAD,Set XB VBUS Eload 3.7A,mA,,,eload,VBUS_XB_B,3700,,,,,SET_XB_TOP_VBUS_ELOAD_3.7A
MAC EFI USBC XA XB TOP ELOAD,Delay,ms,,,delay,2000,,,,,,DELAY@3.7A
MAC EFI USBC XA XB TOP ELOAD,Measure XA VBUS voltage @3.7A,V,-0.1,4.5,dmm,XA_VBUS_SNS,{{XA_VBUS_3.7A}},,,,15000,MEAS_XA_TOP_VBUS_VOLTAGE@3.7A
MAC EFI USBC XA XB TOP ELOAD,Measure XB VBUS voltage @3.7A,V,-0.1,4.5,dmm,XB_VBUS_SNS,{{XB_VBUS_3.7A}},,,,15000,MEAS_XB_TOP_VBUS_VOLTAGE@3.7A
MAC EFI USBC XA XB TOP ELOAD,Get USB OC event,,,,efidiags,"/AppleInternal/Diagnostics/maestre.efi -t 8131 -c USBPort -s {'delayMilliseconds':5000, 'expectedEvents':160}",:\>,,,,60000,GET_USB_XAXB_TOP_OC_EVENT
MAC EFI USBC XA XB TOP ELOAD,Check OC Event Happen,,PASSED,PASSED,efiparse,PASSED,,,,,20000,CHECK_XAXB_TOP_OC_EVENT_2A
MAC EFI USBC XA XB TOP ELOAD,Measure XA VBUS Current @3.7A,mA,-30,1800,iload,VBUS_XA_A,{{XA_IBUS_3.7A}},,,,15000,MEAS_XA_TOP_VBUS_CURRENT@3.7A
MAC EFI USBC XA XB TOP ELOAD,Measure XB VBUS Current @3.7A,mA,-30,1800,iload,VBUS_XB_B,{{XB_IBUS_3.7A}},,,,15000,MEAS_XB_TOP_VBUS_CURRENT@3.7A
MAC EFI USBC XA XB TOP ELOAD,Turn off eload,,,,closeload,0,,,,,,TURN_OFF_XAXB_TOP_ELOAD
MAC EFI USBC XA XB TOP ELOAD,Disconnect XAXB TOP ELOAD,,,,disconnect,ELOAD_CTRL,,,,,15000,DISCONNECT_XAXB_TOP_ELOAD
MAC EFI USBC XA XB TOP ELOAD,Reset XA,,,,usbctrl,reset,XA,,,,20000,RESET_XA_TOP
MAC EFI USBC XA XB TOP ELOAD,Reset XB,,,,usbctrl,reset,XB,,,,20000,RESET_XB_TOP
MAC EFI USBC XA XB TOP ELOAD,Delay,ms,,,delay,2000,,,,,,DELAY_FOR_RESET_XA_XB_TOP
MAC EFI USBC XA XB BOTTOM ELOAD,Config XAXB BOTTOM ELOAD CC,,,,usbctrl,connect,XAXB_ELOAD_BOT,,,,20000,CONFIG_XAXB_BOT_ELOAD_CC
MAC EFI USBC XA XB BOTTOM ELOAD,Delay,ms,,,delay,2000,,,,,,DELAY_FOR_CONFIG_XAXB_BOT_ELOAD_CC
MAC EFI USBC XA XB BOTTOM ELOAD,CONNECT XAXB BOT ELOAD,,,,relay,ELOAD_CTRL,VBUS_XA,,,,15000,CONNECT_XA_BOT_VBUS_ELOAD
MAC EFI USBC XA XB BOTTOM ELOAD,CONNECT XAXB BOT ELOAD VBUS,,,,relay,ELOAD_CTRL,VBUS_XB,,,,15000,CONNECT_XB_BOT_VBUS_ELOAD
MAC EFI USBC XA XB BOTTOM ELOAD,CONNECT XAXB BOT ELOAD VCON XB,,,,relay,ELOAD_CTRL,VCON1_XA,,,,15000,CONNECT_XA_BOT_VCON_ELOAD
MAC EFI USBC XA XB BOTTOM ELOAD,CONNECT XAXB BOT ELOAD VCON XA,,,,relay,ELOAD_CTRL,VCON1_XB,,,,15000,CONNECT_XB_BOT_VCON_ELOAD
MAC EFI USBC XA XB BOTTOM ELOAD,Delay,ms,,,delay,2000,,,,,,DELAY_FOR_CONNECT_XAXB_BOT_ELOAD
MAC EFI USBC XA XB BOTTOM ELOAD,Set XA VBUS Eload 1.5A,mA,,,eload,VBUS_XA_A,1500,,,,,SET_XA_BOT_VBUS_ELOAD_1.5A
MAC EFI USBC XA XB BOTTOM ELOAD,Set XB VBUS Eload 2.8A,mA,,,eload,VBUS_XB_B,2800,,,,,SET_XB_BOT_VBUS_ELOAD_2.8A
MAC EFI USBC XA XB BOTTOM ELOAD,Set XA VCON Eload 0.3A,mA,,,eload,VCON_XA_C,300,,,,,SET_XA_BOT_VCON_ELOAD_0.3A
MAC EFI USBC XA XB BOTTOM ELOAD,Set XB VCON Eload 0.3A,mA,,,eload,VCON_XB_D,300,,,,,SET_XB_BOT_VCON_ELOAD_0.3A
MAC EFI USBC XA XB BOTTOM ELOAD,Delay,ms,,,delay,2000,,,,,,DELAY@2.8A
MAC EFI USBC XA XB BOTTOM ELOAD,Measure XA VBUS voltage @1.5A,V,4.75,5.25,dmm,XA_VBUS_SNS,{{XA_VBUS_1.5A}},,,,15000,MEAS_XA_BOT_VBUS_VOLTAGE@1.5A
MAC EFI USBC XA XB BOTTOM ELOAD,Measure XB VBUS voltage @2.8A,V,4.75,5.25,dmm,XB_VBUS_SNS,{{XB_VBUS_2.8A}},,,,15000,MEAS_XB_BOT_VBUS_VOLTAGE@2.8A
MAC EFI USBC XA XB BOTTOM ELOAD,Measure XA_CC1 voltage @0.3A,V,4.75,5.25,dmm,USBC_XA_CC1_CABLE,{{XA_VCON1_300mA}},,,,15000,MEAS_XA_BOT_VCON_VOLTAGE@0.3A
MAC EFI USBC XA XB BOTTOM ELOAD,Measure XB_CC1 voltage @0.3A,V,4.75,5.25,dmm,USBC_XB_CC1_CABLE,{{XB_VCON1_300mA}},,,,15000,MEAS_XB_BOT_VCON_VOLTAGE@0.3A
MAC EFI USBC XA XB BOTTOM ELOAD,Measure XA VBUS Current @1.5A,mA,1450,1550,iload,VBUS_XA_A,{{XA_IBUS_1.5A}},,,,15000,MEAS_XA_BOT_VBUS_CURRENT@1.5A
MAC EFI USBC XA XB BOTTOM ELOAD,Measure XB VBUS Current @2.8A,mA,2750,2850,iload,VBUS_XB_B,{{XB_IBUS_2.8A}},,,,15000,MEAS_XB_BOT_VBUS_CURRENT@2.8A
MAC EFI USBC XA XB BOTTOM ELOAD,Measure XA VCON Current @0.3A,mA,285,315,iload,VCON_XA_C,{{XA_ICONN1_300mA}},,,,15000,MEAS_XA_BOT_VCON_CURRENT@0.3A
MAC EFI USBC XA XB BOTTOM ELOAD,Measure XB VCON Current @0.3A,mA,285,315,iload,VCON_XB_D,{{XB_ICONN1_300mA}},,,,15000,MEAS_XB_BOT_VCON_CURRENT@0.3A
MAC EFI USBC XA XB BOTTOM ELOAD,Set XA VBUS Eload 1.8A,mA,,,eload,VBUS_XA_A,1800,,,,,SET_XA_BOT_VBUS_ELOAD_1.8A
MAC EFI USBC XA XB BOTTOM ELOAD,Set XB VBUS Eload 2.8A,mA,,,eload,VBUS_XB_B,2800,,,,,SET_XB_BOT_VBUS_ELOAD_2.8A
MAC EFI USBC XA XB BOTTOM ELOAD,Delay,ms,,,delay,2000,,,,,,DELAY@3.7A
MAC EFI USBC XA XB BOTTOM ELOAD,Measure XA VBUS voltage @1.8A,V,-0.1,4.5,dmm,XA_VBUS_SNS,{{XA_VBUS_1.8}},,,,15000,MEAS_XA_BOT_VBUS_VOLTAGE@1.8A
MAC EFI USBC XA XB BOTTOM ELOAD,Measure XB VBUS voltage @2.8A,V,4.5,5.5,dmm,XB_VBUS_SNS,{{XB_VBUS_2.8A}},,,,15000,MEAS_XB_BOT_VBUS_VOLTAGE@2.8A
MAC EFI USBC XA XB BOTTOM ELOAD,Get USB OC event,,,,efidiags,"/AppleInternal/Diagnostics/maestre.efi -t 8131 -c USBPort -s {'delayMilliseconds':5000, 'expectedEvents':32}",:\>,,,,60000,GET_USB_XAXB_BOT_OC_EVENT
MAC EFI USBC XA XB BOTTOM ELOAD,Check OC Event Happen,,PASSED,PASSED,efiparse,PASSED,,,,,20000,CHECK_XAXB_BOT_OC_EVENT_2A
MAC EFI USBC XA XB BOTTOM ELOAD,Measure XA VBUS Current @1.8A,mA,-30,1800,iload,VBUS_XA_A,{{XA_IBUS_1.8A}},,,,15000,MEAS_XA_BOT_VBUS_CURRENT@1.8A
MAC EFI USBC XA XB BOTTOM ELOAD,Measure XB VBUS Current @2.8A,mA,2750,2850,iload,VBUS_XB_B,{{XB_IBUS_2.8A}},,,,15000,MEAS_XB_BOT_VBUS_CURRENT@2.8A
MAC EFI USBC XA XB BOTTOM ELOAD,Turn off eload,,,,closeload,0,,,,,,TURN_OFF_XA_XB_BOT_ELOAD
MAC EFI USBC XA XB BOTTOM ELOAD,DISCONNECT XAXB ELOAD,,,,disconnect,ELOAD_CTRL,,,,,15000,DISCONNECT_XAXB_BOT_ELOAD
MAC EFI USBC XA XB BOTTOM ELOAD,Reset XA,,,,usbctrl,reset,XA,,,,20000,RESET_XA_BOT
MAC EFI USBC XA XB BOTTOM ELOAD,Reset XB,,,,usbctrl,reset,XB,,,,20000,RESET_XB_BOT
MAC EFI PBUS DROP,open power adapter relay,,,,disconnect,PP20V_USBC_ADAPTER_CTL,,,,,15000,DISCONNECT_ADAPTER
MAC EFI PBUS DROP,Measure CPU_PROCHOT_R_L,V,0.96,1.16,dmm,CPU_PROCHOT_R_L,{{CPU_PROCHOT_R_L_voltage}},,,,15000,MEAS_V_CPU_PROCHOT_R_L_START
MAC EFI PBUS DROP,Assert UVP_DIS_L,,,,skip,pmugpio --pin 21 --output 1,,,,,30000,ASSERT_UVP_DIS_L
MAC EFI PBUS DROP,Print pstate start,,,,efidiags,pstate -g,,,,,30000,PRINT_PSTATE_START
MAC EFI PBUS DROP,Parse pstate start,,,,parse,{{PARSE_PSTATE_A}},{{PARSE_PSTATE_A}},,,,20000,PARSE_PSTATE_A
MAC EFI PBUS DROP,Set Battery Emulator to 7.2V,,,,set_battery_zynq,"i2c write(smbus,0d,3,31,ff,ff)",,,,,30000,ZYNQ_SET_BATTERY_EMULATOR_TO_7.2V
MAC EFI PBUS DROP,Measure PPVBAT_G3H_CONN,V,6.5,7.5,dmm,PPVBAT_G3H_CONN_FB_R,{{MACEFI_PPVBAT_G3H_CONN_voltage}},,,,15000,MEAS_V_PPVBAT_G3H_CONN
MAC EFI PBUS DROP,Measure PBUS_G3H,V,6.5,7.5,dmm,PPBUS_G3H,{{MACEFI_PPBUS_G3H_voltage}},,,,15000,MEAS_V_PPBUS_G3H
MAC EFI PBUS DROP,Measure CPU_PROCHOT_R_L ,V,-0.1,0.2,dmm,CPU_PROCHOT_R_L,{{CPU_PROCHOT_R_L_voltage}},,,,15000,MEAS_V_CPU_PROCHOT_R_L
MAC EFI PBUS DROP,Print pstate,,,,efidiags,pstate -g,,,,,30000,PRINT_PSTATE
MAC EFI PBUS DROP,Parse pstate start,,,,parse,{{PARSE_PSTATE_B}},{{PARSE_PSTATE_B}},,,,20000,PARSE_PSTATE_B
MAC EFI PBUS DROP,Pstate count,,20,50,substract,[[PARSE_PSTATE_A]];[[PARSE_PSTATE_B]],,,,,,PSTATE_COUNT
MAC EFI PBUS DROP,Set Battery Emulator to 12.5V,,,,set_battery_zynq,"i2c write(smbus,0d,3,31,0d,b7)",,,,,30000,ZYNQ_SET_BATTERY_EMULATOR_TO_12.5V
INTEL PWR DOWN,Intel off power sequence start test,kHz,,,powersequencemonitor,START,1;3,,,,60000,INTELOFF_PS_START
INTEL PWR DOWN,Shutdown,,,,efidiags,reset -s,,,,,20000,SHUTDWON_INTEL
INTEL PWR DOWN,Wait for intel Off,S,,,detectvoltagefall,PM_PCH_SYS_PWROK;SMC_SYSRST_L;PP3V3_S5;,0.5;0.5;0.5;,,,,30000,WAITING_INTEL_OFF
INTEL PWR DOWN,Disconnect PCH UART,,,,disconnect,DEBUG_UART,PCH,,,,15000,RELAY_PCH_UART_OFF
INTEL PWR DOWN,Delay,ms,,,delay,5000,,,,,,DELAY_FOR_INTEL_OFF_PS
INTEL PWR DOWN,Intel off power sequence stop test,,,,powersequencemonitor,STOP,1,,,,60000,INTELOFF_PS_STOP
INTEL PWR DOWN,Parse all channel ps timing data,ms,,,powersequencedelta,all,"fall,PP3V3_S5",,,,,INTELOFF_PS_TIMMING_DATA
INTEL PWR DOWN,Measure inactive status IO voltage,V,-0.1,0.5,dmm,PPDCIN_G3H,{{IntelOff_V_PPDCIN_G3H_voltage}},,,,15000,INTELOFF_V_PPDCIN_G3H
INTEL PWR DOWN,Measure inactive status IO voltage,V,11.34,13.86,dmm,PPVBAT_G3H_CONN_FB_R,{{IntelOff_V_PPVBAT_G3H_CONN_voltage}},,,,15000,INTELOFF_V_PPVBAT_G3H_CONN
INTEL PWR DOWN,Measure inactive status IO voltage,V,11.34,13.86,dmm,PPBUS_G3H,{{IntelOff_V_PPBUS_G3H_voltage}},,,,15000,INTELOFF_V_PPBUS_G3H
INTEL PWR DOWN,Measure inactive status IO voltage,V,-0.1,0.1,dmm,PPVCC_S0_CPU,{{IntelOff_V_PPVCC_S0_CPU_voltage}},,,,15000,INTELOFF_V_PPVCC_S0_CPU
INTEL PWR DOWN,Measure inactive status IO voltage,V,-0.1,0.1,dmm,PPVCCGT_S0_CPU,{{IntelOff_V_PPVCCGT_S0_CPU_voltage}},,,,15000,INTELOFF_V_PPVCCGT_S0_CPU
INTEL PWR DOWN,Measure inactive status IO voltage,V,-0.1,0.1,dmm,PPVCCSA_S0_CPU,{{IntelOff_V_PPVCCSA_S0_CPU_voltage}},,,,15000,INTELOFF_V_PPVCCSA_S0_CPU
INTEL PWR DOWN,Measure inactive status IO voltage,V,-0.1,0.1,dmm,PPVCCIO_S0_CPU,{{IntelOff_V_PPVCCIO_S0_CPU_voltage}},,,,15000,INTELOFF_V_PPVCCIO_S0_CPU
INTEL PWR DOWN,Measure inactive status IO voltage,V,-0.1,0.1,dmm,PPVCCEDRAM_S0_CPU,{{IntelOff_V_PPVCCEDRAM_S0_CPU_voltage}},,,,15000,INTELOFF_V_PPVCCEDRAM_S0_CPU
INTEL PWR DOWN,Measure inactive status IO voltage,V,-0.1,0.1,dmm,PP1V_S0SW,{{IntelOff_V_PP1V_S0SW_voltage}},,,,15000,INTELOFF_V_PP1V_S0SW
INTEL PWR DOWN,Measure inactive status IO voltage,V,-0.1,0.1,dmm,PP1V2_S0SW,{{IntelOff_V_PP1V2_S0SW_voltage}},,,,15000,INTELOFF_V_PP1V2_S0SW
INTEL PWR DOWN,Measure inactive status IO voltage,V,-0.1,0.1,dmm,PP1V_S3,{{IntelOff_V_PP1V_S3_voltage}},,,,15000,INTELOFF_V_PP1V_S3
INTEL PWR DOWN,Measure inactive status IO voltage,V,-0.1,0.1,dmm,PP1V2_S3,{{IntelOff_V_PP1V2_S3_voltage}},,,,15000,INTELOFF_V_PP1V2_S3
INTEL PWR DOWN,Measure inactive status IO voltage,V,-0.1,0.1,dmm,PP0V6_S0_DDRVTT,{{IntelOff_V_PP0V6_S0_DDRVTT_voltage}},,,,15000,INTELOFF_V_PP0V6_S0_DDRVTT
INTEL PWR DOWN,Measure inactive status IO voltage,V,-0.1,0.1,dmm,PP1V_PRIM,{{IntelOff_V_PP1V_PRIM_voltage}},,,,15000,INTELOFF_V_PP1V_PRIM
INTEL PWR DOWN,Measure inactive status IO voltage,V,-0.1,0.1,dmm,PP3V3_S5,{{IntelOff_V_PP3V3_S5_voltage}},,,,15000,INTELOFF_V_PP3V3_S5
INTEL PWR DOWN,Measure inactive status IO voltage,V,-0.1,0.5,dmm,PP1V8_S5,{{IntelOff_V_PP1V8_S5_voltage}},,,,15000,INTELOFF_V_PP1V8_S5
INTEL PWR DOWN,Measure inactive status IO voltage,V,-0.1,0.1,dmm,PPVPCORE_S5,{{IntelOff_V_PPVPCORE_S5_voltage}},,,,15000,INTELOFF_V_PPVPCORE_S5
INTEL PWR DOWN,Measure inactive status IO voltage,V,2.85,3.15,dmm,PP3V_G3H_RTC,{{IntelOff_V_PP3V_G3H_RTC_voltage}},,,,15000,INTELOFF_V_PP3V_G3H_RTC
INTEL PWR DOWN,Measure inactive status IO voltage,V,-0.1,0.1,dmm,PP3V3_S0SW_LCD,{{IntelOff_V_PP3V3_S0SW_LCD_voltage}},,,,15000,INTELOFF_V_PP3V3_S0SW_LCD
INTEL PWR DOWN,Measure inactive status IO voltage,V,-0.1,0.1,dmm,PP5V_S0SW_LCD,{{IntelOff_V_PP5V_S0SW_LCD_voltage}},,,,15000,INTELOFF_V_PP5V_S0SW_LCD
INTEL PWR DOWN,Measure inactive status IO voltage,V,1.71,1.89,dmm,PP1V8_SLPS2R,{{IntelOff_V_PP1V8_SLPS2R_voltage}},,,,15000,INTELOFF_V_PP1V8_SLPS2R
INTEL PWR DOWN,Measure inactive status IO voltage,V,1.71,1.89,dmm,PP1V8_AWAKE,{{IntelOff_V_PP1V8_AWAKE_voltage}},,,,15000,INTELOFF_V_PP1V8_AWAKE
INTEL PWR DOWN,Measure inactive status IO voltage,V,1.045,1.155,dmm,PP1V1_SLPS2R,{{IntelOff_V_PP1V1_SLPS2R_voltage}},,,,15000,INTELOFF_V_PP1V1_SLPS2R
INTEL PWR DOWN,Measure inactive status IO voltage,V,0.76,0.84,dmm,PP0V8_SLPS2R,{{IntelOff_V_PP0V8_SLPS2R_voltage}},,,,15000,INTELOFF_V_PP0V8_SLPS2R
INTEL PWR DOWN,Measure inactive status IO voltage,V,0.779,0.861,dmm,PP0V82_SLPDDR,{{IntelOff_V_PP0V82_SLPDDR_voltage}},,,,15000,INTELOFF_V_PP0V82_SLPDDR
INTEL PWR DOWN,Measure inactive status IO voltage,V,3.135,3.465,dmm,PP3V3_AWAKE,{{IntelOff_V_PP3V3_AWAKE_voltage}},,,,15000,INTELOFF_V_PP3V3_AWAKE
INTEL PWR DOWN,Measure inactive status IO voltage,V,0.76,1.166,dmm,PPVDDCPUSRAM_AWAKE,{{IntelOff_V_PPVDDCPUSRAM_AWAKE_voltage}},,,,15000,INTELOFF_V_PPVDDCPUSRAM_AWAKE
INTEL PWR DOWN,Measure inactive status IO voltage,V,0.855,0.945,dmm,PP0V9_SLPDDR,{{IntelOff_V_PP0V9_SLPDDR_voltage}},,,,15000,INTELOFF_V_PP0V9_SLPDDR
INTEL PWR DOWN,Measure inactive status IO voltage,V,1.045,1.155,dmm,PP1V1_SLPDDR,{{IntelOff_V_PP1V1_SLPDDR_voltage}},,,,15000,INTELOFF_V_PP1V1_SLPDDR
INTEL PWR DOWN,Measure inactive status IO voltage,V,1.14,1.26,dmm,PP1V2_AWAKE,{{IntelOff_V_PP1V2_AWAKE_voltage}},,,,15000,INTELOFF_V_PP1V2_AWAKE
INTEL PWR DOWN,Measure inactive status IO voltage,V,0.5,1,dmm,PPVDDCPU_AWAKE,{{IntelOff_V_PPVDDCPU_AWAKE_voltage}},,,,15000,INTELOFF_V_PPVDDCPU_AWAKE
INTEL PWR DOWN,Measure inactive status IO voltage,V,3.135,3.465,dmm,PP3V3_G3H_RTC,{{IntelOff_V_PP3V3_G3H_RTC_voltage}},,,,15000,INTELOFF_V_PP3V3_G3H_RTC
INTEL PWR DOWN,Measure inactive status IO voltage,V,3.135,3.465,dmm,PP3V3_G3H,{{IntelOff_V_PP3V3_G3H_voltage}},,,,15000,INTELOFF_V_PP3V3_G3H
INTEL PWR DOWN,Measure inactive status IO voltage,V,3.135,3.465,dmm,PP3V3_G3S,{{IntelOff_V_PP3V3_G3S_voltage}},,,,15000,INTELOFF_V_PP3V3_G3S
INTEL PWR DOWN,Measure inactive status IO voltage,V,4.75,5.25,dmm,PP5V_G3S,{{IntelOff_V_PP5V_G3S_voltage}},,,,15000,INTELOFF_V_PP5V_G3S
INTEL PWR DOWN,Measure inactive status IO voltage,V,1.71,1.89,dmm,PP1V8_G3S,{{IntelOff_V_PP1V8_G3S_voltage}},,,,15000,INTELOFF_V_PP1V8_G3S
INTEL PWR DOWN,Measure inactive status IO voltage,V,1.71,1.89,dmm,PP1V8_IO_SSD0,{{IntelOff_V_PP1V8_SSD0_voltage}},,,,15000,INTELOFF_V_PP1V8_SSD0
INTEL PWR DOWN,Measure inactive status IO voltage,V,2.095,3.105,dmm,PP2V5_NAND_SSD0,{{IntelOff_V_PP2V5_NAND_SSD0_voltage}},,,,15000,INTELOFF_V_PP2V5_NAND_SSD0
INTEL PWR DOWN,Measure inactive status IO voltage,V,0.855,0.945,dmm,PP0V9_SSD0,{{IntelOff_V_PP0V9_SSD0_voltage}},,,,15000,INTELOFF_V_PP0V9_SSD0
INTEL PWR DOWN,Measure inactive status IO voltage,V,-0.1,0.1,dmm,PP20V_USBC_XA_VBUS,{{IntelOff_PP20V_USBC_XA_VBUS_voltage}},,,,15000,INTELOFF_V_PP20V_USBC_XA_VBUS
INTEL PWR DOWN,Measure inactive status IO voltage,V,-0.1,0.1,dmm,PP20V_USBC_XB_VBUS,{{IntelOff_PP20V_USBC_XB_VBUS_voltage}},,,,15000,INTELOFF_V_PP20V_USBC_XB_VBUS
INTEL PWR DOWN,Measure LCD backlight PPVOUT_S0_LCDBKLT voltage,V,-0.1,2,dmm,PPVOUT_S0_LCDBKLT,{{IntelOff_V_PPVOUT_S0_LCDBKLT_voltage}},,,,15000,INTELOFF_PPVOUT_S0_LCDBKLT
FINAL CB SETUP,Get diags version,,,,checkconnection,version,,,,,20000,VERIFY_DIAGS_CONNECTION
FINAL CB SETUP,Write self CB before shutdown,,,,writecb,[[result]],,,,,30000,WRITE_CB
FINAL CB SETUP,Read FCT CB,,,,diags,cbread 0x01,:-),,,,30000,READ_FCT_CBF
SOC PWR DOWN,SOC off power sequence start test,kHz,,,powersequencemonitor,START,1;4,,,,60000,SOCOFF_PS_START
SOC PWR DOWN,Shutdown SOC,,,,iefisend,shutdown,,,,,20000,SHUTDOWN_SOC
SOC PWR DOWN,Delay,ms,,,delay,1000,,,,,,DELAY_FOR_SHUTDOWN_SOC
SOC PWR DOWN,Disconnect SWD,,,,disconnect,SWD_CTRL,,,,,530000,DISCONNECT_SWD
SOC PWR DOWN,Open power adapter relay,,,,disconnect,PP20V_USBC_ADAPTER_CTL,,,,,15000,POWER_ADAPTER_OFF
SOC PWR DOWN,Discharge PP20V_USBC and PPDCIN_G3H,,,,relay,POWER_DISCHARGE,USBC_DISCHARGE,,,,15000,DISCHARGE_POWER
SOC PWR DOWN,Wait for discharge,S,,,detectvoltagefall,PPDCIN_G3H;PP20V_USBC_XA_VBUS;PP20V_USBC_XB_VBUS;,0.5;0.1;0.1;,,,,20000,WAIT_FOR_DISCHAREGE_COMPLETE
SOC PWR DOWN,ACE reset: set PMU_RSLOC_RST_R_L low,,,,relay,DUT_CTRL,PMU_RSLOC_RST_R_L,,,,15000,ACE_RESET_PMU_RSLOC_RST_R_L_LOW
SOC PWR DOWN,Delay,ms,,,delay,5000,,,,,,DELAY_FOR_PMU_RSLOC_RST_R_L_LOW
SOC PWR DOWN,ACE reset: set PMU_ONOFF_R_L low,,,,relay,DUT_CTRL,PMU_ONOFF_R_L,,,,15000,ACE_RESET_PMU_ONOFF_LOW
SOC PWR DOWN,Delay,ms,,,delay,4500,,,,,,DELAY_FOR_PMU_ONOFF_LOW
SOC PWR DOWN,Wait for battery off,S,,,detectvoltagefall,SYS_DETECT;,0.25;,,,,7000,WAIT_BATTERY_DISCHAREGE_COMPLETE
SOC PWR DOWN,Check SSD 2.7V power,V,-0.1,0.1,dmm,PP2V5_NAND_SSD0,{{PowerDown_PP2V5_NAND_SSD0_timming}},,,,15000,DMM_POWERDOWN_SSD0_P2V5
SOC PWR DOWN,Check SSD 1.8V power,V,-0.1,0.1,dmm,PP1V8_IO_SSD0,{{PowerDown_PP1V8_IO_SSD0_timming}},,,,15000,DMM_POWERDOWN_SSD0_P1V8
SOC PWR DOWN,Check SSD 0.9V power,V,-0.1,0.1,dmm,PP0V9_SSD0,{{PowerDown_PP0V9_SSD0_timming}},,,,15000,DMM_POWERDOWN_SSD0_P0V9
SOC PWR DOWN,Check PP3V3_G3H_RTC,V,-0.1,0.1,dmm,PP3V3_G3H_RTC,{{PowerDown_PP3V3_G3H_RTC_timming}},,,,15000,DMM_POWERDOWN_PP3V3_G3H_RTC
SOC PWR DOWN,Check battery disabled,V,-0.1,0.25,dmm,SYS_DETECT,{{PowerDown_SYS_DETECT_timming}},,,,15000,DMM_SYS_DETECT
SOC PWR DOWN,Disconnect sys_detect and battery sense line,,,,disconnect,PPVBAT_ON_CTL,,,,,15000,DISCONNECT_FB_SENSE_LINE
SOC PWR DOWN,Open battery  relay,,,,disconnect,PPVBAT_G3H_IN_CTL,,,,,15000,DISCONNECT_BATTERY
SOC PWR DOWN,Release PMU_RSLOC_RST_R_L,,,,disconnect,PMU_RSLOC_RST_R_L,,,,,15000,RELEASE_PMU_RSLOC_RST_LOW
SOC PWR DOWN,Release set PMU_ONOFF_R_L,,,,disconnect,PMU_ONOFF_R_L,,,,,15000,RELEASE_PMU_ONOFF_R_L_LOW
SOC PWR DOWN,SOC off power sequence stop test,KHz,,,powersequencemonitor,STOP,1,,,,60000,SOCOFF_PS_STOP
SOC PWR DOWN,Parse all channel ps timing data,ms,,,powersequencedelta,all,"fall,PMU_ONOFF_R_L",,,,,SOCOFF_PS_TIMMING_DATA
SOC PWR DOWN,Discharge PPVBAT_G3H_CONN / PPBUS_G3H,,,,relay,POWER_DISCHARGE,BATTERY_DISCHARGE,,,,15000,DISCHARGE_PPVBAT_G3H_CONN
SOC PWR DOWN,Wait for discharge,S,,,detectvoltagefall,PPBUS_G3H;PPVBAT_G3H_CONN_FB_R;PPVOUT_S0_LCDBKLT;,0.1;0.1;0.1;,,,,30000,WAIT_SYSTEM_DISCHAREGE_COMPLETE
SOC PWR DOWN,Get total test time,s,,,gettesttime,,{{test_time}},,,,,GET_TOTAL_TEST_TIME